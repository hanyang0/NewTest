function a0_0x1184(_0x38bf8d,_0x1ca300){var _0xec1bf8=a0_0xec1b();return a0_0x1184=function(_0x118426,_0x2a5f62){_0x118426=_0x118426-0x73;var _0x2068ff=_0xec1bf8[_0x118426];return _0x2068ff;},a0_0x1184(_0x38bf8d,_0x1ca300);}function a0_0xec1b(){var _0x353421=['getUserInput','fromCache','destroy','particlesWind','stroke','setGeometry','reverseY','getRandomLatLng','viewerParameters','key','calc_speedRate','speedRate','LINEAR','resize','absolute','unbindEvent','framebuffer','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','Compute','none','_onMouseUpEvent','toStringTag','addEventListener','updatePosition','currentParticlesSpeed','5096PBMHup','depthTexture','frameTime','color','ymin','frameRate','canvasResize','globalAlpha','createSegmentsGeometry','keys','getFullscreenQuad','91397uLTfJL','WindLayer','visible','rows','particles','camera','setPrototypeOf','getDirection','EllipsoidalOccluder','getV','remove','createRawRenderState','depthTest','pointer-events','mouseDown','mouse_move','redraw','random','Math','tlat','288828ndodWe','layer','bind','default','lon','mouse_down','mars3dWind','particlesNumber','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','context','fromGeometry','currentTrailsDepth','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function','TRIANGLES','clear','postProcessingPosition','lighter','removeChild','beginPath','drawingBufferWidth','autoClear','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','Module','array','tlng','nextTrails','ALWAYS','SceneMode','min','amd','mod','defineProperty','removeAll','fragmentShaderSource','992450FRJiQf','now','destination-in','createRenderingTextures','call','CanvasWindLayer','east','__esModule','PixelFormat','moveTo','particlesRendering','off','arrayBufferView','canvasWidth','commandType','defined','createRenderingPrimitives','createCommand','floor','segments','fadeOpacity','xmin','valueOf','primitiveType','isDestroyed','viewRectangleToLonLatRange','26KVKaYn','geometry','clientWidth','toDegrees','primitives','THREE_PI_OVER_TWO','NEAREST','maxParticles','data','screen','mars3d','setOptions','_map','shaderProgram','getWind','create','5585064lhmmPm','vertexShaderSource','0px','SceneTransforms','lng','framebuffers','attributeLocations','max','constructor','segmentsColor','particleHeight','particlesTextures','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','colorTable','nextParticlesSpeed','blending','randomizeParticles','pow','getUVByXY','canvasWindy','DEPTH_COMPONENT','Framebuffer','lonRange','_mountedHook','clearFramebuffers','wgs84ToWindowCoordinates','animateFrame','_showHook','apply','isInExtent','createWindTextures','_speedRate','getColorTexture','destroyObject','_pointerEvents','globeLayer','hasOwnProperty','execute','container','undefined','vdata','class','lev','PixelDatatype','clearCommand','update','cancelAnimationFrame','_onMouseDownEvent','ellipsoid','clientHeight','mouseUp','Rectangle','defaultValue','hidden','sin','__proto__','Appearance','LayerUtil','_calcUV','position','viewport','drawWind','RenderState','applyViewerParameters','scene','auto','createComputingPrimitives','source','Cartesian3','Color','updateSpeed','_drawLines','getPrototypeOf','uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}','BoundingSphere','nextParticlesPosition','refreshTimer','updateDate','sqrt','GeometryAttributes','vertexArray','TWO_PI','destroyParticlesTextures','_tomap','canvasHeight','ymax','height','//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}','mars3d-cesium','latRange','depthMask','Cartesian2','prototype','addPrimitives','globalCompositeOperation','particlesComputing','RGBA','windTextures','canvasContext','STATIC_DRAW','log','string','symbol','lineTo','BufferUsage','canvas','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','sham','rawRenderState','bindEvent','Sampler','round','100%','PI_OVER_TWO','createParticlesTextures','FLOAT','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','clampToLatitudeRange','_onMap_preRenderEvent','particlesTextureSize','Pass','VertexArray','uniformMap','west','Matrix4','windField','dropRate','show','textures','Draw','preExecute','setData','createRenderingFramebuffers','getSpeed','commandToExecute','speedFactor','push','removeEventListener','ShaderSource','getU','currentTrails','visibility','currentParticlesPosition','age','fill','canvasWind','requestAnimationFrame','outputTexture','forEach','lat','EventType','refreshParticles','length','getUVByPoint','options','SCENE3D','postProcessingSpeed','toGridXY','cols','isPointVisible','pixelSize','getPixelSize','toRadians','width','atan2','4212723OjItrU','strokeStyle','Geometry','PI_OVER_THREE','_createCanvas','_calcStep','drawingBufferHeight','xmax','BaseLayer','applyUserInput','3681660nNnuqu','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','DISABLE_GL_POSITION_LOG_DEPTH','PrimitiveCollection','IDENTITY','pointerEvents','ZERO','_bilinearInterpolation','this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called','createElement','RGB','style','userInput','setAttribute','value','colorNum','TextureMinificationFilter','windData','randomBetween','ComponentDatatype','writable','object','getExtent','lineWidth','preRender','grid','all','globeBoundingSphere','mouseMove','createFramebuffer','WMS_URL','PrimitiveType','_onMouseMoveEvent','wind','dimensions','fixedHeight','14455HUFdHH','_onMapWhellEvent','enumerable','register','_addedHook','updateViewerParameters','abs','fromDegrees','trails','dropRateBump','globe','createTexture','OPAQUE','appendChild','_removedHook','add','maxAge','Texture','WindUtil','particleSystem','ceil','exports','_maxAge','GeometryAttribute','canrefresh','reverse','wheel','mode','randomParticle','_particlesNumber','commandList','function','ClearCommand','top','construct'];a0_0xec1b=function(){return _0x353421;};return a0_0xec1b();}(function(_0x3dd991,_0x391006){var _0xbd7a41=a0_0x1184,_0x469549=_0x3dd991();while(!![]){try{var _0xc532c4=-parseInt(_0xbd7a41(0x174))/0x1*(-parseInt(_0xbd7a41(0x1c4))/0x2)+parseInt(_0xbd7a41(0xff))/0x3+-parseInt(_0xbd7a41(0x1d4))/0x4+parseInt(_0xbd7a41(0x1aa))/0x5+parseInt(_0xbd7a41(0x109))/0x6+-parseInt(_0xbd7a41(0x12d))/0x7*(parseInt(_0xbd7a41(0x169))/0x8)+parseInt(_0xbd7a41(0x188))/0x9;if(_0xc532c4===_0x391006)break;else _0x469549['push'](_0x469549['shift']());}catch(_0x1d78cb){_0x469549['push'](_0x469549['shift']());}}}(a0_0xec1b,0xb0fbb),!function(_0x325d3c,_0x2a679e){var _0x2259b3=a0_0x1184;_0x2259b3(0x11e)==typeof exports&&_0x2259b3(0x11e)==typeof module?module[_0x2259b3(0x142)]=_0x2a679e(require(_0x2259b3(0xb2)),require(_0x2259b3(0x1ce))):_0x2259b3(0x14c)==typeof define&&define[_0x2259b3(0x1a5)]?define(_0x2259b3(0x18e),[_0x2259b3(0xb2),'mars3d'],_0x2a679e):_0x2259b3(0x11e)==typeof exports?exports[_0x2259b3(0x18e)]=_0x2a679e(require(_0x2259b3(0xb2)),require(_0x2259b3(0x1ce))):_0x325d3c['mars3dWind']=_0x2a679e(_0x325d3c['Cesium'],_0x325d3c[_0x2259b3(0x1ce)]);}(window,function(_0x38dae5,_0x502ab8){return function(_0x57cffa){var _0x232485={};function _0x25867b(_0x42904d){var _0x9ebe02=a0_0x1184;if(_0x232485[_0x42904d])return _0x232485[_0x42904d][_0x9ebe02(0x142)];var _0x463472=_0x232485[_0x42904d]={'i':_0x42904d,'l':!0x1,'exports':{}};return _0x57cffa[_0x42904d][_0x9ebe02(0x1ae)](_0x463472[_0x9ebe02(0x142)],_0x463472,_0x463472['exports'],_0x25867b),_0x463472['l']=!0x0,_0x463472[_0x9ebe02(0x142)];}return _0x25867b['m']=_0x57cffa,_0x25867b['c']=_0x232485,_0x25867b['d']=function(_0xa5b4f6,_0x80e28,_0xfb84e9){var _0x855297=a0_0x1184;_0x25867b['o'](_0xa5b4f6,_0x80e28)||Object[_0x855297(0x1a7)](_0xa5b4f6,_0x80e28,{'enumerable':!0x0,'get':_0xfb84e9});},_0x25867b['r']=function(_0x73b539){var _0xc2454e=a0_0x1184;_0xc2454e(0x81)!=typeof Symbol&&Symbol[_0xc2454e(0x165)]&&Object[_0xc2454e(0x1a7)](_0x73b539,Symbol['toStringTag'],{'value':_0xc2454e(0x19e)}),Object['defineProperty'](_0x73b539,'__esModule',{'value':!0x0});},_0x25867b['t']=function(_0x5af0d4,_0x261c44){var _0x16f1de=a0_0x1184;if(0x1&_0x261c44&&(_0x5af0d4=_0x25867b(_0x5af0d4)),0x8&_0x261c44)return _0x5af0d4;if(0x4&_0x261c44&&_0x16f1de(0x11e)==typeof _0x5af0d4&&_0x5af0d4&&_0x5af0d4[_0x16f1de(0x1b1)])return _0x5af0d4;var _0x41c820=Object['create'](null);if(_0x25867b['r'](_0x41c820),Object['defineProperty'](_0x41c820,_0x16f1de(0x18b),{'enumerable':!0x0,'value':_0x5af0d4}),0x2&_0x261c44&&_0x16f1de(0xbf)!=typeof _0x5af0d4){for(var _0x27d398 in _0x5af0d4)_0x25867b['d'](_0x41c820,_0x27d398,function(_0x5b77f9){return _0x5af0d4[_0x5b77f9];}['bind'](null,_0x27d398));}return _0x41c820;},_0x25867b['n']=function(_0x4f815e){var _0x49b172=a0_0x1184,_0x37c095=_0x4f815e&&_0x4f815e[_0x49b172(0x1b1)]?function(){var _0x1959a0=_0x49b172;return _0x4f815e[_0x1959a0(0x18b)];}:function(){return _0x4f815e;};return _0x25867b['d'](_0x37c095,'a',_0x37c095),_0x37c095;},_0x25867b['o']=function(_0x76d35c,_0x5221c4){var _0x544e20=a0_0x1184;return Object['prototype'][_0x544e20(0x7e)]['call'](_0x76d35c,_0x5221c4);},_0x25867b['p']='',_0x25867b(_0x25867b['s']=0x14);}([function(_0x3d66e2,_0x4222eb){var _0x319937=a0_0x1184;_0x3d66e2[_0x319937(0x142)]=_0x38dae5;},function(_0x14affa,_0x5c1fa4){var _0x5e0cb0=a0_0x1184;_0x14affa[_0x5e0cb0(0x142)]=_0x502ab8;},function(_0xb2a950,_0x1193ce){var _0x558147=a0_0x1184;_0xb2a950[_0x558147(0x142)]=function(_0x5025c1,_0x6edb72){var _0x344520=_0x558147;if(!(_0x5025c1 instanceof _0x6edb72))throw new TypeError(_0x344520(0x161));},_0xb2a950[_0x558147(0x142)]['default']=_0xb2a950[_0x558147(0x142)],_0xb2a950['exports'][_0x558147(0x1b1)]=!0x0;},function(_0x2fc47d,_0x15ac34){var _0x585960=a0_0x1184;function _0x47c1c8(_0x2f758a,_0xe36ba){var _0x4521d0=a0_0x1184;for(var _0x2697be=0x0;_0x2697be<_0xe36ba[_0x4521d0(0xf2)];_0x2697be++){var _0xa7f2e0=_0xe36ba[_0x2697be];_0xa7f2e0[_0x4521d0(0x12f)]=_0xa7f2e0[_0x4521d0(0x12f)]||!0x1,_0xa7f2e0['configurable']=!0x0,_0x4521d0(0x117)in _0xa7f2e0&&(_0xa7f2e0[_0x4521d0(0x11d)]=!0x0),Object[_0x4521d0(0x1a7)](_0x2f758a,_0xa7f2e0[_0x4521d0(0x159)],_0xa7f2e0);}}_0x2fc47d[_0x585960(0x142)]=function(_0x4ef709,_0x14daed,_0x55eef4){return _0x14daed&&_0x47c1c8(_0x4ef709['prototype'],_0x14daed),_0x55eef4&&_0x47c1c8(_0x4ef709,_0x55eef4),_0x4ef709;},_0x2fc47d[_0x585960(0x142)]['default']=_0x2fc47d[_0x585960(0x142)],_0x2fc47d['exports']['__esModule']=!0x0;},function(_0x24d596,_0x43f06e){var _0x2a81e1=a0_0x1184;function _0x193af1(_0x27bf63){var _0x3549d5=a0_0x1184;return _0x24d596[_0x3549d5(0x142)]=_0x193af1=Object[_0x3549d5(0x17a)]?Object['getPrototypeOf']:function(_0xcc5fc6){var _0x9ab76f=_0x3549d5;return _0xcc5fc6[_0x9ab76f(0x91)]||Object[_0x9ab76f(0xa2)](_0xcc5fc6);},_0x24d596[_0x3549d5(0x142)]['default']=_0x24d596['exports'],_0x24d596[_0x3549d5(0x142)][_0x3549d5(0x1b1)]=!0x0,_0x193af1(_0x27bf63);}_0x24d596['exports']=_0x193af1,_0x24d596['exports'][_0x2a81e1(0x18b)]=_0x24d596[_0x2a81e1(0x142)],_0x24d596[_0x2a81e1(0x142)][_0x2a81e1(0x1b1)]=!0x0;},function(_0x9e8cf6,_0x3151bc,_0x169a87){var _0x4d64c9=a0_0x1184,_0x15a7f6=_0x169a87(0x11);_0x9e8cf6[_0x4d64c9(0x142)]=function(_0x4bc24d,_0x350199){var _0x47aca4=_0x4d64c9;if(_0x47aca4(0x14c)!=typeof _0x350199&&null!==_0x350199)throw new TypeError(_0x47aca4(0x194));_0x4bc24d[_0x47aca4(0xb6)]=Object[_0x47aca4(0x1d3)](_0x350199&&_0x350199[_0x47aca4(0xb6)],{'constructor':{'value':_0x4bc24d,'writable':!0x0,'configurable':!0x0}}),_0x350199&&_0x15a7f6(_0x4bc24d,_0x350199);},_0x9e8cf6[_0x4d64c9(0x142)][_0x4d64c9(0x18b)]=_0x9e8cf6['exports'],_0x9e8cf6['exports']['__esModule']=!0x0;},function(_0x26195b,_0x430231,_0x47dc6b){var _0x3cddb6=a0_0x1184,_0xc31fe9=_0x47dc6b(0x12)[_0x3cddb6(0x18b)],_0x58083e=_0x47dc6b(0x13);_0x26195b[_0x3cddb6(0x142)]=function(_0x15af14,_0x4b8ce9){var _0x2e669f=_0x3cddb6;if(_0x4b8ce9&&('object'===_0xc31fe9(_0x4b8ce9)||_0x2e669f(0x14c)==typeof _0x4b8ce9))return _0x4b8ce9;if(void 0x0!==_0x4b8ce9)throw new TypeError(_0x2e669f(0x1e0));return _0x58083e(_0x15af14);},_0x26195b[_0x3cddb6(0x142)]['default']=_0x26195b['exports'],_0x26195b['exports'][_0x3cddb6(0x1b1)]=!0x0;},function(_0x3c4762,_0x1a45eb){var _0x48a351=a0_0x1184;_0x3c4762[_0x48a351(0x142)]='attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}';},function(_0x2f9cf0,_0x49af97){var _0x2433a4=a0_0x1184;_0x2f9cf0[_0x2433a4(0x142)]=_0x2433a4(0xc4);},function(_0xb99530,_0x4857aa){var _0x168ed7=a0_0x1184;_0xb99530[_0x168ed7(0x142)]='uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}';},function(_0x453060,_0x1e9604){var _0x19ade9=a0_0x1184;_0x453060[_0x19ade9(0x142)]=_0x19ade9(0x190);},function(_0x464c50,_0x3c78dd){var _0x319979=a0_0x1184;_0x464c50['exports']=_0x319979(0xce);},function(_0xa67fae,_0x27c90b){var _0x1a36c5=a0_0x1184;_0xa67fae[_0x1a36c5(0x142)]=_0x1a36c5(0xb1);},function(_0x5546d9,_0x15ab58){var _0x2a1fbd=a0_0x1184;_0x5546d9[_0x2a1fbd(0x142)]=_0x2a1fbd(0xa3);},function(_0x2d0879,_0xdc7627){var _0x2b6d02=a0_0x1184;_0x2d0879[_0x2b6d02(0x142)]='uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}';},function(_0x617f20,_0x38c011){var _0xec1d54=a0_0x1184;_0x617f20[_0xec1d54(0x142)]=_0xec1d54(0x19d);},function(_0x34adf6,_0x1b1034){var _0x4a4da8=a0_0x1184;_0x34adf6[_0x4a4da8(0x142)]='uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}';},function(_0x42ee06,_0x45e44e){var _0x5e4257=a0_0x1184;function _0x1b032e(_0x10e4be,_0x22e6a0){var _0x215c32=a0_0x1184;return _0x42ee06[_0x215c32(0x142)]=_0x1b032e=Object[_0x215c32(0x17a)]||function(_0x303b82,_0x305ebe){var _0x43ff3b=_0x215c32;return _0x303b82[_0x43ff3b(0x91)]=_0x305ebe,_0x303b82;},_0x42ee06[_0x215c32(0x142)]['default']=_0x42ee06[_0x215c32(0x142)],_0x42ee06['exports'][_0x215c32(0x1b1)]=!0x0,_0x1b032e(_0x10e4be,_0x22e6a0);}_0x42ee06['exports']=_0x1b032e,_0x42ee06[_0x5e4257(0x142)]['default']=_0x42ee06['exports'],_0x42ee06[_0x5e4257(0x142)]['__esModule']=!0x0;},function(_0x4f028c,_0x5ef8c8){var _0x35a9cd=a0_0x1184;function _0x14a079(_0x281cf9){var _0x267945=a0_0x1184;return _0x267945(0x14c)==typeof Symbol&&_0x267945(0xc0)==typeof Symbol['iterator']?(_0x4f028c[_0x267945(0x142)]=_0x14a079=function(_0x54f94a){return typeof _0x54f94a;},_0x4f028c[_0x267945(0x142)][_0x267945(0x18b)]=_0x4f028c[_0x267945(0x142)],_0x4f028c[_0x267945(0x142)][_0x267945(0x1b1)]=!0x0):(_0x4f028c[_0x267945(0x142)]=_0x14a079=function(_0x4c0f81){var _0x3d5dd2=_0x267945;return _0x4c0f81&&_0x3d5dd2(0x14c)==typeof Symbol&&_0x4c0f81['constructor']===Symbol&&_0x4c0f81!==Symbol[_0x3d5dd2(0xb6)]?_0x3d5dd2(0xc0):typeof _0x4c0f81;},_0x4f028c[_0x267945(0x142)][_0x267945(0x18b)]=_0x4f028c[_0x267945(0x142)],_0x4f028c[_0x267945(0x142)]['__esModule']=!0x0),_0x14a079(_0x281cf9);}_0x4f028c[_0x35a9cd(0x142)]=_0x14a079,_0x4f028c[_0x35a9cd(0x142)][_0x35a9cd(0x18b)]=_0x4f028c[_0x35a9cd(0x142)],_0x4f028c[_0x35a9cd(0x142)]['__esModule']=!0x0;},function(_0x2dc980,_0x2f8988){var _0x4a2d43=a0_0x1184;_0x2dc980[_0x4a2d43(0x142)]=function(_0x24d312){var _0x1b7489=_0x4a2d43;if(void 0x0===_0x24d312)throw new ReferenceError(_0x1b7489(0x111));return _0x24d312;},_0x2dc980[_0x4a2d43(0x142)][_0x4a2d43(0x18b)]=_0x2dc980[_0x4a2d43(0x142)],_0x2dc980[_0x4a2d43(0x142)][_0x4a2d43(0x1b1)]=!0x0;},function(_0x16a3fe,_0x1c83ea,_0x6e104c){'use strict';var _0x31fa10=a0_0x1184;_0x6e104c['r'](_0x1c83ea),_0x6e104c['d'](_0x1c83ea,_0x31fa10(0x175),function(){return _0x14bbe3;}),_0x6e104c['d'](_0x1c83ea,_0x31fa10(0x1af),function(){return _0x5eae21;}),_0x6e104c['d'](_0x1c83ea,'WindUtil',function(){return _0x212025;});var _0x212025={};_0x6e104c['r'](_0x212025),_0x6e104c['d'](_0x212025,_0x31fa10(0xe5),function(){return _0x471718;}),_0x6e104c['d'](_0x212025,_0x31fa10(0x17d),function(){return _0x4a1c7b;}),_0x6e104c['d'](_0x212025,_0x31fa10(0xdf),function(){return _0x1c5f17;}),_0x6e104c['d'](_0x212025,_0x31fa10(0x17b),function(){return _0x10ab2a;});var _0x1b7d88=_0x6e104c(0x1),_0x237321=_0x6e104c(0x2),_0x2157d4=_0x6e104c['n'](_0x237321),_0x247970=_0x6e104c(0x3),_0x1a9cad=_0x6e104c['n'](_0x247970),_0x747f05=_0x6e104c(0x5),_0x21cfa9=_0x6e104c['n'](_0x747f05),_0x5e24cf=_0x6e104c(0x6),_0x307b47=_0x6e104c['n'](_0x5e24cf),_0x98fd86=_0x6e104c(0x4),_0x200583=_0x6e104c['n'](_0x98fd86),_0x1de32e=_0x6e104c(0x0),_0x10a53b=function(){var _0x5c64a2=_0x31fa10;function _0x15781c(_0x50c0ab){var _0xdaa6fa=a0_0x1184;_0x2157d4()(this,_0x15781c),this[_0xdaa6fa(0x1b8)]=_0x50c0ab[_0xdaa6fa(0x1b8)],this[_0xdaa6fa(0x1c5)]=_0x50c0ab[_0xdaa6fa(0x1c5)],this[_0xdaa6fa(0x1da)]=_0x50c0ab[_0xdaa6fa(0x1da)],this[_0xdaa6fa(0x1c1)]=_0x50c0ab[_0xdaa6fa(0x1c1)],this[_0xdaa6fa(0xd4)]=_0x50c0ab[_0xdaa6fa(0xd4)],this[_0xdaa6fa(0x1d5)]=_0x50c0ab[_0xdaa6fa(0x1d5)],this[_0xdaa6fa(0x1a9)]=_0x50c0ab['fragmentShaderSource'],this[_0xdaa6fa(0xc6)]=_0x50c0ab[_0xdaa6fa(0xc6)],this[_0xdaa6fa(0x160)]=_0x50c0ab[_0xdaa6fa(0x160)],this[_0xdaa6fa(0xed)]=_0x50c0ab[_0xdaa6fa(0xed)],this[_0xdaa6fa(0x19c)]=_0x1de32e['defaultValue'](_0x50c0ab[_0xdaa6fa(0x19c)],!0x1),this['preExecute']=_0x50c0ab['preExecute'],this[_0xdaa6fa(0xd9)]=!0x0,this[_0xdaa6fa(0xe0)]=void 0x0,this[_0xdaa6fa(0x86)]=void 0x0,this[_0xdaa6fa(0x19c)]&&(this[_0xdaa6fa(0x86)]=new _0x1de32e[(_0xdaa6fa(0x14d))]({'color':new _0x1de32e[(_0xdaa6fa(0x9f))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0xdaa6fa(0x160)],'pass':_0x1de32e[_0xdaa6fa(0xd2)]['OPAQUE']}));}return _0x1a9cad()(_0x15781c,[{'key':_0x5c64a2(0x1bb),'value':function(_0x158c7b){var _0x374c6c=_0x5c64a2;switch(this[_0x374c6c(0x1b8)]){case _0x374c6c(0xdb):var _0x511bc1=_0x1de32e['VertexArray'][_0x374c6c(0x192)]({'context':_0x158c7b,'geometry':this['geometry'],'attributeLocations':this['attributeLocations'],'bufferUsage':_0x1de32e[_0x374c6c(0xc2)][_0x374c6c(0xbd)]}),_0x230d33=_0x1de32e['ShaderProgram'][_0x374c6c(0x151)]({'context':_0x158c7b,'attributeLocations':this['attributeLocations'],'vertexShaderSource':this[_0x374c6c(0x1d5)],'fragmentShaderSource':this['fragmentShaderSource']}),_0x5906b9=_0x1de32e[_0x374c6c(0x98)][_0x374c6c(0x151)](this[_0x374c6c(0xc6)]);return new _0x1de32e['DrawCommand']({'owner':this,'vertexArray':_0x511bc1,'primitiveType':this[_0x374c6c(0x1c1)],'uniformMap':this[_0x374c6c(0xd4)],'modelMatrix':_0x1de32e[_0x374c6c(0xd6)][_0x374c6c(0x10d)],'shaderProgram':_0x230d33,'framebuffer':this[_0x374c6c(0x160)],'renderState':_0x5906b9,'pass':_0x1de32e[_0x374c6c(0xd2)][_0x374c6c(0x139)]});case _0x374c6c(0x162):return new _0x1de32e['ComputeCommand']({'owner':this,'fragmentShaderSource':this[_0x374c6c(0x1a9)],'uniformMap':this[_0x374c6c(0xd4)],'outputTexture':this[_0x374c6c(0xed)],'persists':!0x0});}}},{'key':_0x5c64a2(0x155),'value':function(_0x136ab8,_0xb66026){var _0x52af6e=_0x5c64a2;this['geometry']=_0xb66026;var _0x130889=_0x1de32e['VertexArray'][_0x52af6e(0x192)]({'context':_0x136ab8,'geometry':this[_0x52af6e(0x1c5)],'attributeLocations':this[_0x52af6e(0x1da)],'bufferUsage':_0x1de32e[_0x52af6e(0xc2)]['STATIC_DRAW']});this['commandToExecute'][_0x52af6e(0xaa)]=_0x130889;}},{'key':'update','value':function(_0xb1b6f5){var _0x4f4de1=_0x5c64a2;this[_0x4f4de1(0xd9)]&&_0xb1b6f5[_0x4f4de1(0x148)]==_0x1de32e[_0x4f4de1(0x1a3)][_0x4f4de1(0xf5)]&&(_0x1de32e[_0x4f4de1(0x1b9)](this[_0x4f4de1(0xe0)])||(this[_0x4f4de1(0xe0)]=this[_0x4f4de1(0x1bb)](_0xb1b6f5[_0x4f4de1(0x191)])),_0x1de32e[_0x4f4de1(0x1b9)](this['preExecute'])&&this[_0x4f4de1(0xdc)](),_0x1de32e[_0x4f4de1(0x1b9)](this[_0x4f4de1(0x86)])&&_0xb1b6f5[_0x4f4de1(0x14b)][_0x4f4de1(0xe2)](this[_0x4f4de1(0x86)]),_0xb1b6f5[_0x4f4de1(0x14b)][_0x4f4de1(0xe2)](this['commandToExecute']));}},{'key':_0x5c64a2(0x1c2),'value':function(){return!0x1;}},{'key':'destroy','value':function(){var _0x4818b4=_0x5c64a2;return _0x1de32e[_0x4818b4(0x1b9)](this[_0x4818b4(0xe0)])&&(this[_0x4818b4(0xe0)][_0x4818b4(0x1d1)]=this[_0x4818b4(0xe0)][_0x4818b4(0x1d1)]&&this[_0x4818b4(0xe0)][_0x4818b4(0x1d1)][_0x4818b4(0x152)]()),_0x1de32e[_0x4818b4(0x7b)](this);}}]),_0x15781c;}(),_0x3dcdc4={'getFullscreenQuad':function(){var _0x18565c=_0x31fa10;return new _0x1de32e[(_0x18565c(0x101))]({'attributes':new _0x1de32e['GeometryAttributes']({'position':new _0x1de32e[(_0x18565c(0x144))]({'componentDatatype':_0x1de32e[_0x18565c(0x11c)][_0x18565c(0xcd)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x1de32e[(_0x18565c(0x144))]({'componentDatatype':_0x1de32e[_0x18565c(0x11c)][_0x18565c(0xcd)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x280c71,_0x42c64d){var _0x34913c=_0x31fa10;if(_0x1de32e[_0x34913c(0x1b9)](_0x42c64d)){var _0x3e6826={};_0x3e6826[_0x34913c(0x1b6)]=_0x42c64d,_0x280c71[_0x34913c(0x9d)]=_0x3e6826;}return new _0x1de32e[(_0x34913c(0x13e))](_0x280c71);},'createFramebuffer':function(_0x33b3de,_0x4a955f,_0x3d0f1f){var _0x23ba1e=_0x31fa10;return new _0x1de32e[(_0x23ba1e(0x1e9))]({'context':_0x33b3de,'colorTextures':[_0x4a955f],'depthTexture':_0x3d0f1f});},'createRawRenderState':function(_0x1898df){var _0x230858=_0x31fa10,_0x363277={'viewport':_0x1898df[_0x230858(0x96)],'depthTest':_0x1898df[_0x230858(0x180)],'depthMask':_0x1898df[_0x230858(0xb4)],'blending':_0x1898df[_0x230858(0x1e3)]};return _0x1de32e[_0x230858(0x92)]['getDefaultRenderState'](!0x0,!0x1,_0x363277);},'viewRectangleToLonLatRange':function(_0x582fd3){var _0x28acb4=_0x31fa10,_0x1af0cf,_0x2c0481,_0x44571e={},_0x327cad=_0x1de32e[_0x28acb4(0x186)][_0x28acb4(0x1a6)](_0x582fd3[_0x28acb4(0xd5)],_0x1de32e[_0x28acb4(0x186)]['TWO_PI']),_0x510d2e=_0x1de32e['Math'][_0x28acb4(0x1a6)](_0x582fd3[_0x28acb4(0x1b0)],_0x1de32e['Math'][_0x28acb4(0xab)]),_0x5ef903=_0x582fd3[_0x28acb4(0xfd)];_0x5ef903>_0x1de32e[_0x28acb4(0x186)][_0x28acb4(0x1c9)]?(_0x1af0cf=0x0,_0x2c0481=_0x1de32e[_0x28acb4(0x186)][_0x28acb4(0xab)]):_0x510d2e-_0x327cad<_0x5ef903?(_0x1af0cf=_0x327cad,_0x2c0481=_0x327cad+_0x5ef903):(_0x1af0cf=_0x327cad,_0x2c0481=_0x510d2e),_0x44571e[_0x28acb4(0x18c)]={'min':_0x1de32e[_0x28acb4(0x186)][_0x28acb4(0x1c7)](_0x1af0cf),'max':_0x1de32e[_0x28acb4(0x186)][_0x28acb4(0x1c7)](_0x2c0481)};var _0x3be1c4=_0x582fd3['south'],_0x4589d6=_0x582fd3['north'],_0x561c50=_0x582fd3[_0x28acb4(0xb0)],_0x49ee12=_0x561c50>_0x1de32e['Math']['PI']/0xc?_0x561c50/0x2:0x0,_0x3e963f=_0x1de32e['Math'][_0x28acb4(0xcf)](_0x3be1c4-_0x49ee12),_0x10be5b=_0x1de32e[_0x28acb4(0x186)][_0x28acb4(0xcf)](_0x4589d6+_0x49ee12);return _0x3e963f<-_0x1de32e['Math'][_0x28acb4(0x102)]&&(_0x3e963f=-_0x1de32e['Math']['PI_OVER_TWO']),_0x10be5b>_0x1de32e[_0x28acb4(0x186)][_0x28acb4(0x102)]&&(_0x10be5b=_0x1de32e['Math'][_0x28acb4(0xcb)]),_0x44571e[_0x28acb4(0xef)]={'min':_0x1de32e['Math'][_0x28acb4(0x1c7)](_0x3e963f),'max':_0x1de32e[_0x28acb4(0x186)][_0x28acb4(0x1c7)](_0x10be5b)},_0x44571e;}},_0xb51511=_0x6e104c(0x8),_0xcd1d67=_0x6e104c['n'](_0xb51511),_0x41c910=_0x6e104c(0x9),_0x4c5338=_0x6e104c['n'](_0x41c910),_0x286889=_0x6e104c(0x7),_0x50910c=_0x6e104c['n'](_0x286889),_0x49b047=_0x6e104c(0xa),_0x121e25=_0x6e104c['n'](_0x49b047),_0xd32690=_0x6e104c(0xb),_0x1842be=_0x6e104c['n'](_0xd32690),_0x28ab58=function(){var _0x206712=_0x31fa10;function _0x15c358(_0xb885f7,_0xaffda8,_0x129db8,_0x6971d3,_0x3d232a){var _0xef1cbf=a0_0x1184;_0x2157d4()(this,_0x15c358),this[_0xef1cbf(0x1ad)](_0xb885f7,_0xaffda8),this[_0xef1cbf(0xde)](_0xb885f7),this[_0xef1cbf(0x1ba)](_0xb885f7,_0x129db8,_0x6971d3,_0x3d232a);}return _0x1a9cad()(_0x15c358,[{'key':_0x206712(0x1ad),'value':function(_0x2fd041,_0x4e1171){var _0x24ad20=_0x206712,_0x4ad5cd={'context':_0x2fd041,'width':_0x2fd041[_0x24ad20(0x19b)],'height':_0x2fd041[_0x24ad20(0x105)],'pixelFormat':_0x1de32e[_0x24ad20(0x1b2)]['RGBA'],'pixelDatatype':_0x1de32e[_0x24ad20(0x85)]['UNSIGNED_BYTE']},_0x518977={'context':_0x2fd041,'width':_0x2fd041[_0x24ad20(0x19b)],'height':_0x2fd041[_0x24ad20(0x105)],'pixelFormat':_0x1de32e[_0x24ad20(0x1b2)][_0x24ad20(0x1e8)],'pixelDatatype':_0x1de32e['PixelDatatype']['UNSIGNED_INT']},_0x2d1151={'context':_0x2fd041,'width':_0x4e1171[_0x24ad20(0x1e1)][_0x24ad20(0x118)],'height':0x1,'pixelFormat':_0x1de32e[_0x24ad20(0x1b2)][_0x24ad20(0x113)],'pixelDatatype':_0x1de32e['PixelDatatype']['FLOAT'],'sampler':new _0x1de32e[(_0x24ad20(0xc8))]({'minificationFilter':_0x1de32e[_0x24ad20(0x119)][_0x24ad20(0x15c)],'magnificationFilter':_0x1de32e['TextureMagnificationFilter']['LINEAR']})};this[_0x24ad20(0xda)]={'segmentsColor':_0x3dcdc4[_0x24ad20(0x138)](_0x4ad5cd),'segmentsDepth':_0x3dcdc4[_0x24ad20(0x138)](_0x518977),'currentTrailsColor':_0x3dcdc4[_0x24ad20(0x138)](_0x4ad5cd),'currentTrailsDepth':_0x3dcdc4[_0x24ad20(0x138)](_0x518977),'nextTrailsColor':_0x3dcdc4[_0x24ad20(0x138)](_0x4ad5cd),'nextTrailsDepth':_0x3dcdc4['createTexture'](_0x518977),'colorTable':_0x3dcdc4[_0x24ad20(0x138)](_0x2d1151,_0x4e1171[_0x24ad20(0x1e1)][_0x24ad20(0x19f)])};}},{'key':'createRenderingFramebuffers','value':function(_0x577299){var _0xd7808=_0x206712;this['framebuffers']={'segments':_0x3dcdc4[_0xd7808(0x126)](_0x577299,this['textures'][_0xd7808(0x1dd)],this['textures']['segmentsDepth']),'currentTrails':_0x3dcdc4['createFramebuffer'](_0x577299,this['textures']['currentTrailsColor'],this[_0xd7808(0xda)][_0xd7808(0x193)]),'nextTrails':_0x3dcdc4[_0xd7808(0x126)](_0x577299,this['textures']['nextTrailsColor'],this['textures']['nextTrailsDepth'])};}},{'key':'createSegmentsGeometry','value':function(_0x59341a){var _0x3c1d58=_0x206712;for(var _0x21ca33=[],_0x25e40f=0x0;_0x25e40f<_0x59341a[_0x3c1d58(0xd1)];_0x25e40f++)for(var _0x58adab=0x0;_0x58adab<_0x59341a['particlesTextureSize'];_0x58adab++)for(var _0x2c9ad8=0x0;_0x2c9ad8<0x4;_0x2c9ad8++)_0x21ca33['push'](_0x25e40f/_0x59341a[_0x3c1d58(0xd1)]),_0x21ca33['push'](_0x58adab/_0x59341a['particlesTextureSize']);_0x21ca33=new Float32Array(_0x21ca33);for(var _0x580cbc=[],_0x3051b8=[-0x1,0x1],_0x521674=[-0x1,0x1],_0x11afd7=0x0;_0x11afd7<_0x59341a[_0x3c1d58(0x1cb)];_0x11afd7++)for(var _0xb3518f=0x0;_0xb3518f<0x2;_0xb3518f++)for(var _0x5de4b8=0x0;_0x5de4b8<0x2;_0x5de4b8++)_0x580cbc[_0x3c1d58(0xe2)](_0x3051b8[_0xb3518f]),_0x580cbc[_0x3c1d58(0xe2)](_0x521674[_0x5de4b8]),_0x580cbc[_0x3c1d58(0xe2)](0x0);_0x580cbc=new Float32Array(_0x580cbc);for(var _0x52845b=0x6*_0x59341a[_0x3c1d58(0x1cb)],_0x32b494=new Uint32Array(_0x52845b),_0x190c35=0x0,_0xdb3621=0x0,_0x2dcf54=0x0;_0x190c35<_0x59341a[_0x3c1d58(0x1cb)];_0x190c35++)_0x32b494[_0xdb3621++]=_0x2dcf54+0x0,_0x32b494[_0xdb3621++]=_0x2dcf54+0x1,_0x32b494[_0xdb3621++]=_0x2dcf54+0x2,_0x32b494[_0xdb3621++]=_0x2dcf54+0x2,_0x32b494[_0xdb3621++]=_0x2dcf54+0x1,_0x32b494[_0xdb3621++]=_0x2dcf54+0x3,_0x2dcf54+=0x4;return new _0x1de32e[(_0x3c1d58(0x101))]({'attributes':new _0x1de32e[(_0x3c1d58(0xa9))]({'st':new _0x1de32e['GeometryAttribute']({'componentDatatype':_0x1de32e[_0x3c1d58(0x11c)][_0x3c1d58(0xcd)],'componentsPerAttribute':0x2,'values':_0x21ca33}),'normal':new _0x1de32e[(_0x3c1d58(0x144))]({'componentDatatype':_0x1de32e[_0x3c1d58(0x11c)][_0x3c1d58(0xcd)],'componentsPerAttribute':0x3,'values':_0x580cbc})}),'indices':_0x32b494});}},{'key':'createRenderingPrimitives','value':function(_0x498b1e,_0x356581,_0x54986e,_0x50c2c3){var _0x595c83=_0x206712,_0x4f527e=this;this[_0x595c83(0x1c8)]={'segments':new _0x10a53b({'commandType':_0x595c83(0xdb),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x595c83(0x171)](_0x356581),'primitiveType':_0x1de32e[_0x595c83(0x128)]['TRIANGLES'],'uniformMap':{'currentParticlesPosition':function(){var _0x3ec4b3=_0x595c83;return _0x50c2c3[_0x3ec4b3(0x1df)][_0x3ec4b3(0xe8)];},'postProcessingPosition':function(){var _0x5b883e=_0x595c83;return _0x50c2c3[_0x5b883e(0x1df)][_0x5b883e(0x197)];},'postProcessingSpeed':function(){var _0x1ab570=_0x595c83;return _0x50c2c3[_0x1ab570(0x1df)][_0x1ab570(0xf6)];},'colorTable':function(){return _0x4f527e['textures']['colorTable'];},'aspect':function(){var _0x126b41=_0x595c83;return _0x498b1e[_0x126b41(0x19b)]/_0x498b1e[_0x126b41(0x105)];},'pixelSize':function(){return _0x54986e['pixelSize'];},'lineWidth':function(){return _0x356581['lineWidth'];},'particleHeight':function(){return _0x356581['particleHeight'];}},'vertexShaderSource':new _0x1de32e[(_0x595c83(0xe4))]({'sources':[_0xcd1d67['a']]}),'fragmentShaderSource':new _0x1de32e[(_0x595c83(0xe4))]({'sources':[_0x4c5338['a']]}),'rawRenderState':_0x3dcdc4['createRawRenderState']({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this[_0x595c83(0x1d9)][_0x595c83(0x1bd)],'autoClear':!0x0}),'trails':new _0x10a53b({'commandType':_0x595c83(0xdb),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x3dcdc4[_0x595c83(0x173)](),'primitiveType':_0x1de32e['PrimitiveType'][_0x595c83(0x195)],'uniformMap':{'segmentsColorTexture':function(){var _0x3645ab=_0x595c83;return _0x4f527e['textures'][_0x3645ab(0x1dd)];},'segmentsDepthTexture':function(){var _0x4f10c4=_0x595c83;return _0x4f527e[_0x4f10c4(0xda)]['segmentsDepth'];},'currentTrailsColor':function(){var _0x9edf6c=_0x595c83;return _0x4f527e[_0x9edf6c(0x1d9)][_0x9edf6c(0xe6)][_0x9edf6c(0x7a)](0x0);},'trailsDepthTexture':function(){var _0x1a051a=_0x595c83;return _0x4f527e[_0x1a051a(0x1d9)]['currentTrails'][_0x1a051a(0x16a)];},'fadeOpacity':function(){return _0x356581['fadeOpacity'];}},'vertexShaderSource':new _0x1de32e['ShaderSource']({'defines':[_0x595c83(0x10b)],'sources':[_0x50910c['a']]}),'fragmentShaderSource':new _0x1de32e['ShaderSource']({'defines':['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],'sources':[_0x121e25['a']]}),'rawRenderState':_0x3dcdc4['createRawRenderState']({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0x1de32e['DepthFunction'][_0x595c83(0x1a2)]},'depthMask':!0x0}),'framebuffer':this[_0x595c83(0x1d9)][_0x595c83(0x1a1)],'autoClear':!0x0,'preExecute':function(){var _0x67263e=_0x595c83,_0x24232c;_0x24232c=_0x4f527e[_0x67263e(0x1d9)][_0x67263e(0xe6)],_0x4f527e[_0x67263e(0x1d9)][_0x67263e(0xe6)]=_0x4f527e[_0x67263e(0x1d9)][_0x67263e(0x1a1)],_0x4f527e[_0x67263e(0x1d9)][_0x67263e(0x1a1)]=_0x24232c,_0x4f527e[_0x67263e(0x1c8)]['trails'][_0x67263e(0xe0)][_0x67263e(0x160)]=_0x4f527e[_0x67263e(0x1d9)]['nextTrails'],_0x4f527e[_0x67263e(0x1c8)][_0x67263e(0x135)][_0x67263e(0x86)][_0x67263e(0x160)]=_0x4f527e['framebuffers'][_0x67263e(0x1a1)];}}),'screen':new _0x10a53b({'commandType':_0x595c83(0xdb),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x3dcdc4['getFullscreenQuad'](),'primitiveType':_0x1de32e[_0x595c83(0x128)][_0x595c83(0x195)],'uniformMap':{'trailsColorTexture':function(){var _0x2d8ef8=_0x595c83;return _0x4f527e['framebuffers']['nextTrails'][_0x2d8ef8(0x7a)](0x0);},'trailsDepthTexture':function(){var _0x395883=_0x595c83;return _0x4f527e[_0x395883(0x1d9)][_0x395883(0x1a1)][_0x395883(0x16a)];}},'vertexShaderSource':new _0x1de32e[(_0x595c83(0xe4))]({'defines':[_0x595c83(0x10b)],'sources':[_0x50910c['a']]}),'fragmentShaderSource':new _0x1de32e['ShaderSource']({'defines':[_0x595c83(0x10a)],'sources':[_0x1842be['a']]}),'rawRenderState':_0x3dcdc4[_0x595c83(0x17f)]({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x15c358;}(),_0x413ecf=_0x6e104c(0xc),_0x3ef27d=_0x6e104c['n'](_0x413ecf),_0xe4aff1=_0x6e104c(0xd),_0x54c107=_0x6e104c['n'](_0xe4aff1),_0x17bf80=_0x6e104c(0xe),_0x2f8c56=_0x6e104c['n'](_0x17bf80),_0x2efca3=_0x6e104c(0xf),_0x290232=_0x6e104c['n'](_0x2efca3),_0x26360d=_0x6e104c(0x10),_0x445a8a=_0x6e104c['n'](_0x26360d),_0x5a4f8d=function(){var _0x136bf4=_0x31fa10;function _0xd15d0a(_0x401dd6,_0x50e567,_0x1a9a7b,_0x38d09e){var _0x1d4ca1=a0_0x1184;_0x2157d4()(this,_0xd15d0a),this[_0x1d4ca1(0x1cc)]=_0x50e567,this[_0x1d4ca1(0x78)](_0x401dd6,_0x50e567),this[_0x1d4ca1(0xcc)](_0x401dd6,_0x1a9a7b,_0x38d09e),this[_0x1d4ca1(0x9c)](_0x50e567,_0x1a9a7b,_0x38d09e);}return _0x1a9cad()(_0xd15d0a,[{'key':_0x136bf4(0x78),'value':function(_0x31b3ba,_0x24e880){var _0x241ed0=_0x136bf4,_0x8f1e16={'context':_0x31b3ba,'width':_0x24e880['dimensions'][_0x241ed0(0x18c)],'height':_0x24e880['dimensions'][_0x241ed0(0xef)]*_0x24e880['dimensions'][_0x241ed0(0x84)],'pixelFormat':_0x1de32e['PixelFormat']['LUMINANCE'],'pixelDatatype':_0x1de32e[_0x241ed0(0x85)]['FLOAT'],'flipY':!0x1,'sampler':new _0x1de32e['Sampler']({'minificationFilter':_0x1de32e[_0x241ed0(0x119)][_0x241ed0(0x1ca)],'magnificationFilter':_0x1de32e['TextureMagnificationFilter'][_0x241ed0(0x1ca)]})};this[_0x241ed0(0xbb)]={'U':_0x3dcdc4[_0x241ed0(0x138)](_0x8f1e16,_0x24e880['U'][_0x241ed0(0x19f)]),'V':_0x3dcdc4[_0x241ed0(0x138)](_0x8f1e16,_0x24e880['V'][_0x241ed0(0x19f)])};}},{'key':'createParticlesTextures','value':function(_0x23ea8e,_0x7b1a82,_0x2cd109){var _0x3f568d=_0x136bf4,_0x1c513e={'context':_0x23ea8e,'width':_0x7b1a82[_0x3f568d(0xd1)],'height':_0x7b1a82[_0x3f568d(0xd1)],'pixelFormat':_0x1de32e[_0x3f568d(0x1b2)][_0x3f568d(0xba)],'pixelDatatype':_0x1de32e[_0x3f568d(0x85)][_0x3f568d(0xcd)],'flipY':!0x1,'sampler':new _0x1de32e[(_0x3f568d(0xc8))]({'minificationFilter':_0x1de32e[_0x3f568d(0x119)][_0x3f568d(0x1ca)],'magnificationFilter':_0x1de32e['TextureMagnificationFilter'][_0x3f568d(0x1ca)]})},_0x3f3400=this['randomizeParticles'](_0x7b1a82[_0x3f568d(0x1cb)],_0x2cd109),_0x5b26a1=new Float32Array(0x4*_0x7b1a82['maxParticles'])[_0x3f568d(0xea)](0x0);this['particlesTextures']={'particlesWind':_0x3dcdc4[_0x3f568d(0x138)](_0x1c513e),'currentParticlesPosition':_0x3dcdc4['createTexture'](_0x1c513e,_0x3f3400),'nextParticlesPosition':_0x3dcdc4[_0x3f568d(0x138)](_0x1c513e,_0x3f3400),'currentParticlesSpeed':_0x3dcdc4['createTexture'](_0x1c513e,_0x5b26a1),'nextParticlesSpeed':_0x3dcdc4[_0x3f568d(0x138)](_0x1c513e,_0x5b26a1),'postProcessingPosition':_0x3dcdc4[_0x3f568d(0x138)](_0x1c513e,_0x3f3400),'postProcessingSpeed':_0x3dcdc4[_0x3f568d(0x138)](_0x1c513e,_0x5b26a1)};}},{'key':_0x136bf4(0x1e4),'value':function(_0x1cd833,_0x241a18){var _0x5da6ff=_0x136bf4;for(var _0x37cfee=new Float32Array(0x4*_0x1cd833),_0x39f206=0x0;_0x39f206<_0x1cd833;_0x39f206++)_0x37cfee[0x4*_0x39f206]=_0x1de32e['Math'][_0x5da6ff(0x11b)](_0x241a18[_0x5da6ff(0x1ea)]['x'],_0x241a18[_0x5da6ff(0x1ea)]['y']),_0x37cfee[0x4*_0x39f206+0x1]=_0x1de32e[_0x5da6ff(0x186)][_0x5da6ff(0x11b)](_0x241a18[_0x5da6ff(0xb3)]['x'],_0x241a18[_0x5da6ff(0xb3)]['y']),_0x37cfee[0x4*_0x39f206+0x2]=_0x1de32e[_0x5da6ff(0x186)][_0x5da6ff(0x11b)](this[_0x5da6ff(0x1cc)]['lev']['min'],this['data'][_0x5da6ff(0x84)][_0x5da6ff(0x1db)]),_0x37cfee[0x4*_0x39f206+0x3]=0x0;return _0x37cfee;}},{'key':_0x136bf4(0xac),'value':function(){var _0x204e01=_0x136bf4,_0x3c0e52=this;Object[_0x204e01(0x172)](this[_0x204e01(0x1df)])[_0x204e01(0xee)](function(_0x210eb0){var _0xeead2d=_0x204e01;_0x3c0e52[_0xeead2d(0x1df)][_0x210eb0][_0xeead2d(0x152)]();});}},{'key':'createComputingPrimitives','value':function(_0xcc4f8f,_0x594237,_0xaa0c25){var _0x59de58=_0x136bf4,_0x5ad066=new _0x1de32e[(_0x59de58(0x9e))](_0xcc4f8f[_0x59de58(0x12b)][_0x59de58(0x18c)],_0xcc4f8f[_0x59de58(0x12b)]['lat'],_0xcc4f8f[_0x59de58(0x12b)][_0x59de58(0x84)]),_0x4d2763=new _0x1de32e['Cartesian3'](_0xcc4f8f[_0x59de58(0x18c)][_0x59de58(0x1a4)],_0xcc4f8f[_0x59de58(0xef)]['min'],_0xcc4f8f[_0x59de58(0x84)][_0x59de58(0x1a4)]),_0xed8f55=new _0x1de32e[(_0x59de58(0x9e))](_0xcc4f8f[_0x59de58(0x18c)][_0x59de58(0x1db)],_0xcc4f8f[_0x59de58(0xef)][_0x59de58(0x1db)],_0xcc4f8f[_0x59de58(0x84)][_0x59de58(0x1db)]),_0x8076bb=new _0x1de32e[(_0x59de58(0x9e))]((_0xed8f55['x']-_0x4d2763['x'])/(_0x5ad066['x']-0x1),(_0xed8f55['y']-_0x4d2763['y'])/(_0x5ad066['y']-0x1),_0x5ad066['z']>0x1?(_0xed8f55['z']-_0x4d2763['z'])/(_0x5ad066['z']-0x1):0x1),_0x4d1790=new _0x1de32e['Cartesian2'](_0xcc4f8f['U'][_0x59de58(0x1a4)],_0xcc4f8f['U'][_0x59de58(0x1db)]),_0x4bc55d=new _0x1de32e[(_0x59de58(0xb5))](_0xcc4f8f['V']['min'],_0xcc4f8f['V'][_0x59de58(0x1db)]),_0x463577=this;this[_0x59de58(0x1c8)]={'getWind':new _0x10a53b({'commandType':_0x59de58(0x162),'uniformMap':{'U':function(){var _0x50aa8c=_0x59de58;return _0x463577[_0x50aa8c(0xbb)]['U'];},'V':function(){var _0x299dbe=_0x59de58;return _0x463577[_0x299dbe(0xbb)]['V'];},'currentParticlesPosition':function(){var _0x569ff1=_0x59de58;return _0x463577[_0x569ff1(0x1df)]['currentParticlesPosition'];},'dimension':function(){return _0x5ad066;},'minimum':function(){return _0x4d2763;},'maximum':function(){return _0xed8f55;},'interval':function(){return _0x8076bb;}},'fragmentShaderSource':new _0x1de32e[(_0x59de58(0xe4))]({'sources':[_0x3ef27d['a']]}),'outputTexture':this[_0x59de58(0x1df)][_0x59de58(0x153)],'preExecute':function(){var _0x43ecf0=_0x59de58;_0x463577[_0x43ecf0(0x1c8)][_0x43ecf0(0x1d2)][_0x43ecf0(0xe0)][_0x43ecf0(0xed)]=_0x463577[_0x43ecf0(0x1df)][_0x43ecf0(0x153)];}}),'updateSpeed':new _0x10a53b({'commandType':_0x59de58(0x162),'uniformMap':{'currentParticlesSpeed':function(){var _0x466b5a=_0x59de58;return _0x463577[_0x466b5a(0x1df)][_0x466b5a(0x168)];},'particlesWind':function(){var _0x44a23b=_0x59de58;return _0x463577[_0x44a23b(0x1df)]['particlesWind'];},'uSpeedRange':function(){return _0x4d1790;},'vSpeedRange':function(){return _0x4bc55d;},'pixelSize':function(){return _0xaa0c25['pixelSize'];},'speedFactor':function(){var _0x1b9007=_0x59de58;return _0x594237[_0x1b9007(0xe1)];}},'fragmentShaderSource':new _0x1de32e[(_0x59de58(0xe4))]({'sources':[_0x54c107['a']]}),'outputTexture':this[_0x59de58(0x1df)]['nextParticlesSpeed'],'preExecute':function(){var _0x246545=_0x59de58,_0x5afc13;_0x5afc13=_0x463577[_0x246545(0x1df)][_0x246545(0x168)],_0x463577[_0x246545(0x1df)][_0x246545(0x168)]=_0x463577[_0x246545(0x1df)][_0x246545(0xf6)],_0x463577[_0x246545(0x1df)]['postProcessingSpeed']=_0x5afc13,_0x463577['primitives'][_0x246545(0xa0)][_0x246545(0xe0)]['outputTexture']=_0x463577[_0x246545(0x1df)][_0x246545(0x1e2)];}}),'updatePosition':new _0x10a53b({'commandType':_0x59de58(0x162),'uniformMap':{'currentParticlesPosition':function(){var _0x556b2c=_0x59de58;return _0x463577[_0x556b2c(0x1df)][_0x556b2c(0xe8)];},'currentParticlesSpeed':function(){var _0x468b11=_0x59de58;return _0x463577['particlesTextures'][_0x468b11(0x168)];}},'fragmentShaderSource':new _0x1de32e['ShaderSource']({'sources':[_0x2f8c56['a']]}),'outputTexture':this[_0x59de58(0x1df)][_0x59de58(0xa5)],'preExecute':function(){var _0x2b6e78=_0x59de58,_0x2f7a55;_0x2f7a55=_0x463577['particlesTextures'][_0x2b6e78(0xe8)],_0x463577[_0x2b6e78(0x1df)][_0x2b6e78(0xe8)]=_0x463577[_0x2b6e78(0x1df)]['postProcessingPosition'],_0x463577['particlesTextures']['postProcessingPosition']=_0x2f7a55,_0x463577[_0x2b6e78(0x1c8)][_0x2b6e78(0x167)][_0x2b6e78(0xe0)]['outputTexture']=_0x463577[_0x2b6e78(0x1df)][_0x2b6e78(0xa5)];}}),'postProcessingPosition':new _0x10a53b({'commandType':'Compute','uniformMap':{'nextParticlesPosition':function(){var _0x1f15b5=_0x59de58;return _0x463577['particlesTextures'][_0x1f15b5(0xa5)];},'nextParticlesSpeed':function(){var _0xab324a=_0x59de58;return _0x463577['particlesTextures'][_0xab324a(0x1e2)];},'lonRange':function(){var _0x59d5c9=_0x59de58;return _0xaa0c25[_0x59d5c9(0x1ea)];},'latRange':function(){var _0x427b30=_0x59de58;return _0xaa0c25[_0x427b30(0xb3)];},'randomCoefficient':function(){var _0x966861=_0x59de58,_0x3a003f=Math[_0x966861(0x185)]();return _0x3a003f;},'dropRate':function(){var _0x58ecdf=_0x59de58;return _0x594237[_0x58ecdf(0xd8)];},'dropRateBump':function(){var _0x568ba5=_0x59de58;return _0x594237[_0x568ba5(0x136)];}},'fragmentShaderSource':new _0x1de32e[(_0x59de58(0xe4))]({'sources':[_0x290232['a']]}),'outputTexture':this[_0x59de58(0x1df)][_0x59de58(0x197)],'preExecute':function(){var _0x125272=_0x59de58;_0x463577[_0x125272(0x1c8)][_0x125272(0x197)][_0x125272(0xe0)][_0x125272(0xed)]=_0x463577[_0x125272(0x1df)][_0x125272(0x197)];}}),'postProcessingSpeed':new _0x10a53b({'commandType':_0x59de58(0x162),'uniformMap':{'postProcessingPosition':function(){var _0x50d763=_0x59de58;return _0x463577[_0x50d763(0x1df)][_0x50d763(0x197)];},'nextParticlesSpeed':function(){var _0x1423a4=_0x59de58;return _0x463577[_0x1423a4(0x1df)][_0x1423a4(0x1e2)];}},'fragmentShaderSource':new _0x1de32e[(_0x59de58(0xe4))]({'sources':[_0x445a8a['a']]}),'outputTexture':this[_0x59de58(0x1df)][_0x59de58(0xf6)],'preExecute':function(){var _0x51cf87=_0x59de58;_0x463577[_0x51cf87(0x1c8)][_0x51cf87(0xf6)][_0x51cf87(0xe0)][_0x51cf87(0xed)]=_0x463577[_0x51cf87(0x1df)]['postProcessingSpeed'];}})};}}]),_0xd15d0a;}(),_0x23854f=function(){var _0x5dd909=_0x31fa10;function _0x5a2efa(_0x108fd9,_0x2f4be2,_0x454902,_0x195594){var _0x54310d=a0_0x1184;_0x2157d4()(this,_0x5a2efa),this[_0x54310d(0x191)]=_0x108fd9,this[_0x54310d(0x1cc)]=_0x2f4be2,this[_0x54310d(0x115)]=_0x454902,this[_0x54310d(0x158)]=_0x195594,this['particlesComputing']=new _0x5a4f8d(this['context'],this[_0x54310d(0x1cc)],this[_0x54310d(0x115)],this[_0x54310d(0x158)]),this[_0x54310d(0x1b4)]=new _0x28ab58(this[_0x54310d(0x191)],this[_0x54310d(0x1cc)],this[_0x54310d(0x115)],this[_0x54310d(0x158)],this[_0x54310d(0xb9)]);}return _0x1a9cad()(_0x5a2efa,[{'key':'canvasResize','value':function(_0x4395d7){var _0x371b12=a0_0x1184,_0x32bf05=this;this['particlesComputing'][_0x371b12(0xac)](),Object[_0x371b12(0x172)](this[_0x371b12(0xb9)][_0x371b12(0xbb)])[_0x371b12(0xee)](function(_0x478668){var _0x556c0e=_0x371b12;_0x32bf05[_0x556c0e(0xb9)][_0x556c0e(0xbb)][_0x478668]['destroy']();}),this[_0x371b12(0x1b4)][_0x371b12(0xda)][_0x371b12(0x1e1)][_0x371b12(0x152)](),Object[_0x371b12(0x172)](this[_0x371b12(0x1b4)][_0x371b12(0x1d9)])[_0x371b12(0xee)](function(_0x27501d){var _0x1091fa=_0x371b12;_0x32bf05[_0x1091fa(0x1b4)]['framebuffers'][_0x27501d][_0x1091fa(0x152)]();}),this[_0x371b12(0x191)]=_0x4395d7,this['particlesComputing']=new _0x5a4f8d(this[_0x371b12(0x191)],this[_0x371b12(0x1cc)],this[_0x371b12(0x115)],this[_0x371b12(0x158)]),this[_0x371b12(0x1b4)]=new _0x28ab58(this[_0x371b12(0x191)],this[_0x371b12(0x1cc)],this[_0x371b12(0x115)],this[_0x371b12(0x158)],this[_0x371b12(0xb9)]);}},{'key':_0x5dd909(0x1ec),'value':function(){var _0x3bb80d=_0x5dd909,_0x5e4e6c=this,_0xe20ba0=new _0x1de32e[(_0x3bb80d(0x14d))]({'color':new _0x1de32e['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x1de32e[_0x3bb80d(0xd2)][_0x3bb80d(0x139)]});Object[_0x3bb80d(0x172)](this[_0x3bb80d(0x1b4)][_0x3bb80d(0x1d9)])['forEach'](function(_0x223c10){var _0x3db03d=_0x3bb80d;_0xe20ba0['framebuffer']=_0x5e4e6c[_0x3db03d(0x1b4)][_0x3db03d(0x1d9)][_0x223c10],_0xe20ba0[_0x3db03d(0x7f)](_0x5e4e6c[_0x3db03d(0x191)]);});}},{'key':_0x5dd909(0xf1),'value':function(_0x1cf57d){var _0x2c19a6=_0x5dd909;if(this['clearFramebuffers'](),this[_0x2c19a6(0xb9)][_0x2c19a6(0xac)](),this['particlesComputing'][_0x2c19a6(0xcc)](this[_0x2c19a6(0x191)],this[_0x2c19a6(0x115)],this['viewerParameters']),_0x1cf57d){var _0x69a26b=this[_0x2c19a6(0x1b4)][_0x2c19a6(0x171)](this[_0x2c19a6(0x115)]);this[_0x2c19a6(0x1b4)]['primitives']['segments'][_0x2c19a6(0x1c5)]=_0x69a26b;var _0x526351=_0x1de32e[_0x2c19a6(0xd3)][_0x2c19a6(0x192)]({'context':this[_0x2c19a6(0x191)],'geometry':_0x69a26b,'attributeLocations':this[_0x2c19a6(0x1b4)][_0x2c19a6(0x1c8)][_0x2c19a6(0x1bd)][_0x2c19a6(0x1da)],'bufferUsage':_0x1de32e[_0x2c19a6(0xc2)][_0x2c19a6(0xbd)]});this['particlesRendering'][_0x2c19a6(0x1c8)][_0x2c19a6(0x1bd)][_0x2c19a6(0xe0)]['vertexArray']=_0x526351;}}},{'key':_0x5dd909(0x108),'value':function(_0x30f553){var _0x33898f=_0x5dd909,_0x59fb67=this,_0x9f1169=!0x1;this[_0x33898f(0x115)]['maxParticles']!=_0x30f553['maxParticles']&&(_0x9f1169=!0x0),Object[_0x33898f(0x172)](_0x30f553)[_0x33898f(0xee)](function(_0x58552f){var _0x4d6db0=_0x33898f;_0x59fb67[_0x4d6db0(0x115)][_0x58552f]=_0x30f553[_0x58552f];}),this['refreshParticles'](_0x9f1169);}},{'key':_0x5dd909(0x99),'value':function(_0x3223ea){var _0x2e77ea=_0x5dd909,_0x8757e2=this;Object[_0x2e77ea(0x172)](_0x3223ea)[_0x2e77ea(0xee)](function(_0x32c7b0){var _0x5c50ef=_0x2e77ea;_0x8757e2[_0x5c50ef(0x158)][_0x32c7b0]=_0x3223ea[_0x32c7b0];}),this[_0x2e77ea(0xf1)](!0x1);}}]),_0x5a2efa;}();function _0x98efe(_0x326d07){var _0x28364a=function(){var _0x1ec0e1=a0_0x1184;if(_0x1ec0e1(0x81)==typeof Reflect||!Reflect[_0x1ec0e1(0x14f)])return!0x1;if(Reflect[_0x1ec0e1(0x14f)][_0x1ec0e1(0xc5)])return!0x1;if(_0x1ec0e1(0x14c)==typeof Proxy)return!0x0;try{return Boolean[_0x1ec0e1(0xb6)][_0x1ec0e1(0x1c0)]['call'](Reflect[_0x1ec0e1(0x14f)](Boolean,[],function(){})),!0x0;}catch(_0x548d62){return!0x1;}}();return function(){var _0x549a42=a0_0x1184,_0xbb08ab,_0x5462ec=_0x200583()(_0x326d07);if(_0x28364a){var _0x41956e=_0x200583()(this)[_0x549a42(0x1dc)];_0xbb08ab=Reflect[_0x549a42(0x14f)](_0x5462ec,arguments,_0x41956e);}else _0xbb08ab=_0x5462ec[_0x549a42(0x76)](this,arguments);return _0x307b47()(this,_0xbb08ab);};}var _0x74b499=_0x1b7d88[_0x31fa10(0x189)][_0x31fa10(0x107)],_0x28d5ae=0x1000,_0x2520bd=0x64,_0x52c986=0.996,_0x14beee=0.003,_0x351052=0.01,_0x568711=0.5,_0x5f3968=0x2,_0x14bbe3=function(_0x5b6981){var _0x5b7dbe=_0x31fa10;_0x21cfa9()(_0x100838,_0x5b6981);var _0x5662bb=_0x98efe(_0x100838);function _0x100838(){var _0x2603ef=a0_0x1184,_0x52ddef,_0x594f4f=arguments[_0x2603ef(0xf2)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};if(_0x2157d4()(this,_0x100838),(_0x52ddef=_0x5662bb[_0x2603ef(0x1ae)](this,_0x594f4f))[_0x2603ef(0x1cb)]=_0x28d5ae,_0x52ddef[_0x2603ef(0x1de)]=_0x2520bd,_0x52ddef['fadeOpacity']=_0x52c986,_0x52ddef[_0x2603ef(0xd8)]=_0x14beee,_0x52ddef[_0x2603ef(0x136)]=_0x351052,_0x52ddef[_0x2603ef(0xe1)]=_0x568711,_0x52ddef['lineWidth']=_0x5f3968,_0x594f4f){for(var _0x229fec in _0x594f4f)_0x52ddef[_0x229fec]=_0x594f4f[_0x229fec];}return _0x52ddef;}return _0x1a9cad()(_0x100838,[{'key':_0x5b7dbe(0x189),'get':function(){var _0x1dc167=_0x5b7dbe;return this[_0x1dc167(0x1c8)];}},{'key':_0x5b7dbe(0x1eb),'value':function(){}},{'key':_0x5b7dbe(0x131),'value':function(){var _0x310497=_0x5b7dbe;this['scene']=this[_0x310497(0x1d0)][_0x310497(0x9a)],this[_0x310497(0x179)]=this['_map'][_0x310497(0x179)],this[_0x310497(0x1c8)]=new _0x1de32e[(_0x310497(0x10c))](),this[_0x310497(0x1d0)][_0x310497(0x9a)][_0x310497(0x1c8)][_0x310497(0x13c)](this[_0x310497(0x1c8)]),this[_0x310497(0x158)]={'lonRange':new _0x1de32e['Cartesian2'](),'latRange':new _0x1de32e[(_0x310497(0xb5))](),'pixelSize':0x0},this[_0x310497(0x124)]=new _0x1de32e[(_0x310497(0xa4))](_0x1de32e[_0x310497(0x9e)][_0x310497(0x10f)],6314355.63),this[_0x310497(0x132)](),window[_0x310497(0x166)](_0x310497(0x15d),this[_0x310497(0x15d)][_0x310497(0x18a)](this),!0x1),this[_0x310497(0x18d)]=!0x1,this['mouse_move']=!0x1,this['_map']['on'](_0x1b7d88[_0x310497(0xf0)][_0x310497(0x147)],this[_0x310497(0x12e)],this),this[_0x310497(0x1d0)]['on'](_0x1b7d88[_0x310497(0xf0)][_0x310497(0x182)],this['_onMouseDownEvent'],this),this[_0x310497(0x1d0)]['on'](_0x1b7d88[_0x310497(0xf0)][_0x310497(0x8c)],this['_onMouseUpEvent'],this),this[_0x310497(0x1d0)]['on'](_0x1b7d88[_0x310497(0xf0)][_0x310497(0x125)],this[_0x310497(0x129)],this);}},{'key':_0x5b7dbe(0x13b),'value':function(){var _0x512597=_0x5b7dbe;window[_0x512597(0xe3)](_0x512597(0x15d),this['resize']),this[_0x512597(0x1d0)][_0x512597(0x1b5)](_0x1b7d88[_0x512597(0xf0)][_0x512597(0x121)],this[_0x512597(0xd0)],this),this[_0x512597(0x1d0)][_0x512597(0x1b5)](_0x1b7d88['EventType'][_0x512597(0x147)],this['_onMapWhellEvent'],this),this[_0x512597(0x1d0)][_0x512597(0x1b5)](_0x1b7d88[_0x512597(0xf0)][_0x512597(0x182)],this['_onMouseDownEvent'],this),this['_map']['off'](_0x1b7d88['EventType'][_0x512597(0x8c)],this[_0x512597(0x164)],this),this[_0x512597(0x1d0)][_0x512597(0x1b5)](_0x1b7d88[_0x512597(0xf0)][_0x512597(0x125)],this['_onMouseMoveEvent'],this),this['primitives'][_0x512597(0x1a8)](),this[_0x512597(0x1d0)][_0x512597(0x9a)][_0x512597(0x1c8)][_0x512597(0x17e)](this[_0x512597(0x1c8)]);}},{'key':_0x5b7dbe(0x15d),'value':function(){var _0x37eff7=_0x5b7dbe;this['show']&&this[_0x37eff7(0x140)]&&(this[_0x37eff7(0x1c8)][_0x37eff7(0xd9)]=!0x1,this[_0x37eff7(0x1c8)][_0x37eff7(0x1a8)](),this['_map']['once'](_0x1b7d88['EventType'][_0x37eff7(0x121)],this[_0x37eff7(0xd0)],this));}},{'key':_0x5b7dbe(0xd0),'value':function(_0x11a3ed){var _0x37ea2f=_0x5b7dbe;this[_0x37ea2f(0x140)][_0x37ea2f(0x16f)](this[_0x37ea2f(0x9a)]['context']),this[_0x37ea2f(0xb7)](),this[_0x37ea2f(0x1c8)][_0x37ea2f(0xd9)]=!0x0;}},{'key':'_onMapWhellEvent','value':function(_0x37dc20){var _0x3eb09a=_0x5b7dbe,_0x42e3ea=this;clearTimeout(this[_0x3eb09a(0xa6)]),this[_0x3eb09a(0xd9)]&&this[_0x3eb09a(0x140)]&&(this[_0x3eb09a(0x1c8)][_0x3eb09a(0xd9)]=!0x1,this[_0x3eb09a(0xa6)]=setTimeout(function(){var _0x12a0d4=_0x3eb09a;_0x42e3ea[_0x12a0d4(0xd9)]&&_0x42e3ea[_0x12a0d4(0x184)]();},0xc8));}},{'key':_0x5b7dbe(0x89),'value':function(_0x155b41){var _0xb2216a=_0x5b7dbe;this[_0xb2216a(0x18d)]=!0x0;}},{'key':_0x5b7dbe(0x129),'value':function(_0x8730d4){var _0x23ebb0=_0x5b7dbe;this[_0x23ebb0(0xd9)]&&this[_0x23ebb0(0x140)]&&this['mouse_down']&&(this[_0x23ebb0(0x1c8)][_0x23ebb0(0xd9)]=!0x1,this['mouse_move']=!0x0);}},{'key':_0x5b7dbe(0x164),'value':function(_0x552563){var _0x2ff2fb=_0x5b7dbe;this[_0x2ff2fb(0xd9)]&&this[_0x2ff2fb(0x140)]&&(this[_0x2ff2fb(0x18d)]&&this['mouse_move']&&this[_0x2ff2fb(0x184)](),this[_0x2ff2fb(0x1c8)]['show']=!0x0,this['mouse_down']=!0x1,this['mouse_move']=!0x1);}},{'key':_0x5b7dbe(0x184),'value':function(){var _0xe367fc=_0x5b7dbe;this['_map']&&this[_0xe367fc(0xd9)]&&(this[_0xe367fc(0x132)](),this[_0xe367fc(0x140)]['applyViewerParameters'](this['viewerParameters']),this[_0xe367fc(0x1c8)][_0xe367fc(0xd9)]=!0x0);}},{'key':_0x5b7dbe(0xdd),'value':function(_0x3f57e8){var _0xfaf75f=_0x5b7dbe;this[_0xfaf75f(0x140)]=new _0x23854f(this['scene'][_0xfaf75f(0x191)],_0x3f57e8,this[_0xfaf75f(0x150)](),this['viewerParameters']),this['addPrimitives']();}},{'key':_0x5b7dbe(0x1cf),'value':function(_0x49724b){var _0x153295=_0x5b7dbe;if(_0x49724b){for(var _0x221c94 in _0x49724b)this[_0x221c94]=_0x49724b[_0x221c94];}return this[_0x153295(0x140)]&&this['particleSystem'][_0x153295(0x108)](this[_0x153295(0x150)]()),this;}},{'key':_0x5b7dbe(0x150),'value':function(){var _0x5852db=_0x5b7dbe,_0x24d57e=Math[_0x5852db(0x141)](Math['sqrt'](this[_0x5852db(0x1cb)]));return this[_0x5852db(0x1cb)]=_0x24d57e*_0x24d57e,{'particlesTextureSize':_0x24d57e,'maxParticles':this[_0x5852db(0x1cb)],'particleHeight':this['particleHeight'],'fadeOpacity':this[_0x5852db(0x1be)],'dropRate':this['dropRate'],'dropRateBump':this[_0x5852db(0x136)],'speedFactor':this[_0x5852db(0xe1)],'lineWidth':this[_0x5852db(0x120)],'globeLayer':this[_0x5852db(0x7d)],'WMS_URL':this[_0x5852db(0x127)]};}},{'key':_0x5b7dbe(0xb7),'value':function(){var _0x3755d3=_0x5b7dbe;this[_0x3755d3(0x1c8)]['add'](this[_0x3755d3(0x140)]['particlesComputing']['primitives'][_0x3755d3(0x1d2)]),this[_0x3755d3(0x1c8)][_0x3755d3(0x13c)](this[_0x3755d3(0x140)][_0x3755d3(0xb9)][_0x3755d3(0x1c8)][_0x3755d3(0xa0)]),this[_0x3755d3(0x1c8)][_0x3755d3(0x13c)](this[_0x3755d3(0x140)][_0x3755d3(0xb9)][_0x3755d3(0x1c8)][_0x3755d3(0x167)]),this['primitives'][_0x3755d3(0x13c)](this[_0x3755d3(0x140)][_0x3755d3(0xb9)][_0x3755d3(0x1c8)][_0x3755d3(0x197)]),this['primitives']['add'](this['particleSystem'][_0x3755d3(0xb9)]['primitives'][_0x3755d3(0xf6)]),this[_0x3755d3(0x1c8)][_0x3755d3(0x13c)](this[_0x3755d3(0x140)][_0x3755d3(0x1b4)]['primitives'][_0x3755d3(0x1bd)]),this['primitives'][_0x3755d3(0x13c)](this['particleSystem']['particlesRendering'][_0x3755d3(0x1c8)]['trails']),this[_0x3755d3(0x1c8)]['add'](this[_0x3755d3(0x140)][_0x3755d3(0x1b4)][_0x3755d3(0x1c8)][_0x3755d3(0x1cd)]);}},{'key':_0x5b7dbe(0x132),'value':function(){var _0x163653=_0x5b7dbe,_0x2c72b0=this[_0x163653(0x179)]['computeViewRectangle'](this[_0x163653(0x9a)][_0x163653(0x137)][_0x163653(0x8a)]);if(!_0x2c72b0){var _0x130b6=this[_0x163653(0x1d0)][_0x163653(0x11f)]();_0x2c72b0=_0x1de32e[_0x163653(0x8d)][_0x163653(0x134)](_0x130b6['xmin'],_0x130b6['ymin'],_0x130b6[_0x163653(0x106)],_0x130b6[_0x163653(0xaf)]);}var _0x3cea62=_0x3dcdc4[_0x163653(0x1c3)](_0x2c72b0);this[_0x163653(0x158)]['lonRange']['x']=_0x3cea62[_0x163653(0x18c)][_0x163653(0x1a4)],this['viewerParameters'][_0x163653(0x1ea)]['y']=_0x3cea62[_0x163653(0x18c)]['max'],this[_0x163653(0x158)][_0x163653(0xb3)]['x']=_0x3cea62[_0x163653(0xef)][_0x163653(0x1a4)],this['viewerParameters'][_0x163653(0xb3)]['y']=_0x3cea62[_0x163653(0xef)][_0x163653(0x1db)];var _0x296500=this[_0x163653(0x179)][_0x163653(0xfb)](this[_0x163653(0x124)],this[_0x163653(0x9a)][_0x163653(0x19b)],this[_0x163653(0x9a)][_0x163653(0x105)]);_0x296500>0x0&&(this[_0x163653(0x158)][_0x163653(0xfa)]=_0x296500);}}]),_0x100838;}(_0x74b499);_0x1b7d88['LayerUtil'][_0x31fa10(0x130)](_0x31fa10(0x12a),_0x14bbe3),_0x1b7d88['layer'][_0x31fa10(0x175)]=_0x14bbe3;var _0x1b0b24=function _0x4a98b2(){var _0x1e0391=_0x31fa10;_0x2157d4()(this,_0x4a98b2),this[_0x1e0391(0x1d8)]=null,this[_0x1e0391(0xef)]=null,this[_0x1e0391(0x1a0)]=null,this[_0x1e0391(0x187)]=null,this[_0x1e0391(0xe9)]=null;},_0x454c27=function(){var _0x584068=_0x31fa10;function _0x18a6b8(_0x461bbf,_0xc9e9f4){var _0x3ec786=a0_0x1184;_0x2157d4()(this,_0x18a6b8),this[_0x3ec786(0x177)]=_0x461bbf[_0x3ec786(0x177)],this[_0x3ec786(0xf8)]=_0x461bbf[_0x3ec786(0xf8)],this[_0x3ec786(0x1bf)]=_0x461bbf[_0x3ec786(0x1bf)],this[_0x3ec786(0x106)]=_0x461bbf[_0x3ec786(0x106)],this[_0x3ec786(0x16d)]=_0x461bbf['ymin'],this[_0x3ec786(0xaf)]=_0x461bbf[_0x3ec786(0xaf)],this[_0x3ec786(0x122)]=[];var _0x4834ce=_0x461bbf['udata'],_0x50b2ca=_0x461bbf[_0x3ec786(0x82)],_0x313cb9=!0x1;_0x4834ce['length']===this[_0x3ec786(0x177)]&&_0x4834ce[0x0]['length']===this[_0x3ec786(0xf8)]&&(_0x313cb9=!0x0);for(var _0x184cec=0x0,_0x2fe457=null,_0x131f98=null,_0x2a8712=0x0;_0x2a8712<this['rows'];_0x2a8712++){_0x2fe457=[];for(var _0x2854a0=0x0;_0x2854a0<this[_0x3ec786(0xf8)];_0x2854a0++,_0x184cec++)_0x131f98=_0x313cb9?this['_calcUV'](_0x4834ce[_0x2a8712][_0x2854a0],_0x50b2ca[_0x2a8712][_0x2854a0]):this[_0x3ec786(0x94)](_0x4834ce[_0x184cec],_0x50b2ca[_0x184cec]),_0x2fe457[_0x3ec786(0xe2)](_0x131f98);this['grid'][_0x3ec786(0xe2)](_0x2fe457);}_0xc9e9f4&&this[_0x3ec786(0x122)][_0x3ec786(0x146)]();}return _0x1a9cad()(_0x18a6b8,[{'key':_0x584068(0xf7),'value':function(_0x4f5ff2,_0xd95d4e){var _0x2ae130=_0x584068;return{'x':(_0x4f5ff2-this['xmin'])/(this['xmax']-this[_0x2ae130(0x1bf)])*(this[_0x2ae130(0xf8)]-0x1),'y':(this['ymax']-_0xd95d4e)/(this['ymax']-this['ymin'])*(this[_0x2ae130(0x177)]-0x1)};}},{'key':_0x584068(0x1e6),'value':function(_0x48fa72,_0x28f3f2){var _0x2b775e=_0x584068;if(_0x48fa72<0x0||_0x48fa72>=this[_0x2b775e(0xf8)]||_0x28f3f2>=this[_0x2b775e(0x177)])return[0x0,0x0,0x0];var _0x245788,_0x40c04a,_0xe4da71=Math[_0x2b775e(0x1bc)](_0x48fa72),_0x5639bb=Math[_0x2b775e(0x1bc)](_0x28f3f2);if(_0xe4da71===_0x48fa72&&_0x5639bb===_0x28f3f2)return this[_0x2b775e(0x122)][_0x28f3f2][_0x48fa72];_0x245788=_0xe4da71+0x1,_0x40c04a=_0x5639bb+0x1;var _0xdfa5ab=this['getUVByXY'](_0xe4da71,_0x5639bb),_0x483dab=this[_0x2b775e(0x1e6)](_0x245788,_0x5639bb),_0x1b6bb0=this['getUVByXY'](_0xe4da71,_0x40c04a),_0xbe2b38=this[_0x2b775e(0x1e6)](_0x245788,_0x40c04a),_0x1aec8=null;try{_0x1aec8=this[_0x2b775e(0x110)](_0x48fa72-_0xe4da71,_0x28f3f2-_0x5639bb,_0xdfa5ab,_0x483dab,_0x1b6bb0,_0xbe2b38);}catch(_0x232e72){console[_0x2b775e(0xbe)](_0x48fa72,_0x28f3f2);}return _0x1aec8;}},{'key':_0x584068(0x110),'value':function(_0x106e44,_0x5342b5,_0x2dd10b,_0x4d7921,_0x42b654,_0x5e0e5b){var _0x40813b=_0x584068,_0x8df814=0x1-_0x106e44,_0x2a2b19=0x1-_0x5342b5,_0x4f929f=_0x8df814*_0x2a2b19,_0x388080=_0x106e44*_0x2a2b19,_0x30ebf9=_0x8df814*_0x5342b5,_0x12db78=_0x106e44*_0x5342b5,_0x142ee3=_0x2dd10b[0x0]*_0x4f929f+_0x4d7921[0x0]*_0x388080+_0x42b654[0x0]*_0x30ebf9+_0x5e0e5b[0x0]*_0x12db78,_0x45be04=_0x2dd10b[0x1]*_0x4f929f+_0x4d7921[0x1]*_0x388080+_0x42b654[0x1]*_0x30ebf9+_0x5e0e5b[0x1]*_0x12db78;return this[_0x40813b(0x94)](_0x142ee3,_0x45be04);}},{'key':'_calcUV','value':function(_0x1f4c68,_0x2e0e66){var _0x32b428=_0x584068;return[+_0x1f4c68,+_0x2e0e66,Math[_0x32b428(0xa8)](_0x1f4c68*_0x1f4c68+_0x2e0e66*_0x2e0e66)];}},{'key':_0x584068(0xf3),'value':function(_0x3694c1,_0x488d6c){var _0x321041=_0x584068;if(!this[_0x321041(0x77)](_0x3694c1,_0x488d6c))return null;var _0x454be1=this[_0x321041(0xf7)](_0x3694c1,_0x488d6c);return this[_0x321041(0x1e6)](_0x454be1['x'],_0x454be1['y']);}},{'key':_0x584068(0x77),'value':function(_0x239b04,_0x3f6718){var _0x2e2458=_0x584068;return _0x239b04>=this[_0x2e2458(0x1bf)]&&_0x239b04<=this[_0x2e2458(0x106)]&&_0x3f6718>=this[_0x2e2458(0x16d)]&&_0x3f6718<=this[_0x2e2458(0xaf)];}},{'key':_0x584068(0x157),'value':function(){var _0xc79e74=_0x584068,_0x53b85b=_0x4392a5(this['xmin'],this[_0xc79e74(0x106)]);return{'lat':_0x4392a5(this[_0xc79e74(0x16d)],this['ymax']),'lng':_0x53b85b};}}]),_0x18a6b8;}();function _0x4392a5(_0x2b8c20,_0x275f21){var _0x43de60=_0x31fa10;return _0x2b8c20+Math[_0x43de60(0x185)]()*(_0x275f21-_0x2b8c20);}function _0x3dd16f(_0xd05361){var _0x3ad212=function(){var _0x345827=a0_0x1184;if(_0x345827(0x81)==typeof Reflect||!Reflect[_0x345827(0x14f)])return!0x1;if(Reflect[_0x345827(0x14f)][_0x345827(0xc5)])return!0x1;if('function'==typeof Proxy)return!0x0;try{return Boolean['prototype'][_0x345827(0x1c0)][_0x345827(0x1ae)](Reflect['construct'](Boolean,[],function(){})),!0x0;}catch(_0x4cb481){return!0x1;}}();return function(){var _0x5b27ee=a0_0x1184,_0xfebc35,_0x1b1db7=_0x200583()(_0xd05361);if(_0x3ad212){var _0x8189c8=_0x200583()(this)[_0x5b27ee(0x1dc)];_0xfebc35=Reflect['construct'](_0x1b1db7,arguments,_0x8189c8);}else _0xfebc35=_0x1b1db7[_0x5b27ee(0x76)](this,arguments);return _0x307b47()(this,_0xfebc35);};}var _0x5eae21=function(_0x4863d0){var _0x7a2c60=_0x31fa10;_0x21cfa9()(_0x450745,_0x4863d0);var _0x3e5f1c=_0x3dd16f(_0x450745);function _0x450745(){var _0x2eaaf6=a0_0x1184,_0x5a5251,_0x3d0372=arguments[_0x2eaaf6(0xf2)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x2157d4()(this,_0x450745),(_0x5a5251=_0x3e5f1c[_0x2eaaf6(0x1ae)](this,_0x3d0372))[_0x2eaaf6(0x15a)]=[0x0,0x0],_0x5a5251[_0x2eaaf6(0x178)]=[],_0x5a5251[_0x2eaaf6(0x15b)]=_0x3d0372[_0x2eaaf6(0x15b)]||0x32,_0x5a5251['_particlesNumber']=_0x3d0372[_0x2eaaf6(0x18f)]||0x4e20,_0x5a5251['_maxAge']=_0x3d0372[_0x2eaaf6(0x13d)]||0x78,_0x5a5251[_0x2eaaf6(0x16b)]=0x3e8/(_0x3d0372[_0x2eaaf6(0x16e)]||0xa),_0x5a5251[_0x2eaaf6(0x7c)]=_0x1de32e[_0x2eaaf6(0x8e)](_0x5a5251[_0x2eaaf6(0xf4)][_0x2eaaf6(0x10e)],!0x1),_0x5a5251[_0x2eaaf6(0x16c)]=_0x3d0372[_0x2eaaf6(0x16c)]||'#ffffff',_0x5a5251['lineWidth']=_0x3d0372[_0x2eaaf6(0x120)]||0x1,_0x5a5251[_0x2eaaf6(0x12c)]=_0x1de32e['defaultValue'](_0x3d0372[_0x2eaaf6(0x12c)],0x0),_0x5a5251[_0x2eaaf6(0x156)]=_0x1de32e[_0x2eaaf6(0x8e)](_0x3d0372['reverseY'],!0x1),_0x5a5251[_0x2eaaf6(0xc3)]=null,_0x5a5251;}return _0x1a9cad()(_0x450745,[{'key':'layer','get':function(){var _0x1e7507=a0_0x1184;return this[_0x1e7507(0xc3)];}},{'key':_0x7a2c60(0x1b7),'get':function(){var _0x370874=_0x7a2c60;return this[_0x370874(0x1d0)][_0x370874(0x9a)][_0x370874(0xc3)][_0x370874(0x1c6)];}},{'key':_0x7a2c60(0xae),'get':function(){var _0x5a7dbf=_0x7a2c60;return this['_map'][_0x5a7dbf(0x9a)][_0x5a7dbf(0xc3)][_0x5a7dbf(0x8b)];}},{'key':_0x7a2c60(0x10e),'get':function(){return this['_pointerEvents'];},'set':function(_0xed2894){var _0x35f368=_0x7a2c60;this[_0x35f368(0x7c)]=_0xed2894,this[_0x35f368(0xc3)]&&(this['canvas'][_0x35f368(0x114)][_0x35f368(0x181)]=_0xed2894?_0x35f368(0x123):_0x35f368(0x163));}},{'key':_0x7a2c60(0x15b),'get':function(){var _0x5389d7=_0x7a2c60;return this[_0x5389d7(0x79)];},'set':function(_0x1bdf18){var _0x80c4bd=_0x7a2c60;this['_speedRate']=0x64*(0x64-(_0x1bdf18>0x63?0x63:_0x1bdf18)),this[_0x80c4bd(0x104)]();}},{'key':'particlesNumber','get':function(){var _0x231562=_0x7a2c60;return this[_0x231562(0x14a)];},'set':function(_0x1ffc0f){var _0x445e70=_0x7a2c60,_0x531773=this;this[_0x445e70(0x14a)]=_0x1ffc0f,clearTimeout(this['canrefresh']),this[_0x445e70(0x145)]=setTimeout(function(){var _0x430e48=_0x445e70;_0x531773[_0x430e48(0x184)]();},0x1f4);}},{'key':'maxAge','get':function(){var _0x2d0f40=_0x7a2c60;return this[_0x2d0f40(0x143)];},'set':function(_0x226abf){var _0xc2630c=_0x7a2c60,_0x5260be=this;this[_0xc2630c(0x143)]=_0x226abf,clearTimeout(this[_0xc2630c(0x145)]),this[_0xc2630c(0x145)]=setTimeout(function(){var _0x3fd2a6=_0xc2630c;_0x5260be[_0x3fd2a6(0x184)]();},0x1f4);}},{'key':_0x7a2c60(0x1cc),'get':function(){var _0x5e8a1a=_0x7a2c60;return this[_0x5e8a1a(0x11a)];},'set':function(_0x3118a8){this['updateDate'](_0x3118a8);}},{'key':_0x7a2c60(0x75),'value':function(_0x43eb75){var _0x2b65ea=_0x7a2c60;_0x43eb75?this[_0x2b65ea(0x131)]():(this['windData']&&(this['options'][_0x2b65ea(0x1cc)]=this[_0x2b65ea(0x11a)]),this[_0x2b65ea(0x13b)]());}},{'key':_0x7a2c60(0x1eb),'value':function(){}},{'key':_0x7a2c60(0x131),'value':function(){var _0x19f99e=_0x7a2c60;this[_0x19f99e(0xc3)]=this[_0x19f99e(0x103)](),this[_0x19f99e(0xbc)]=this[_0x19f99e(0xc3)]['getContext']('2d'),this[_0x19f99e(0xc7)](),this['options']['data']&&this[_0x19f99e(0xa7)](this[_0x19f99e(0xf4)][_0x19f99e(0x1cc)]);}},{'key':_0x7a2c60(0x13b),'value':function(){var _0x4ead11=_0x7a2c60;this[_0x4ead11(0x196)](),this[_0x4ead11(0x15f)](),this[_0x4ead11(0xc3)]&&(this[_0x4ead11(0x1d0)][_0x4ead11(0x80)][_0x4ead11(0x199)](this[_0x4ead11(0xc3)]),delete this[_0x4ead11(0xc3)]);}},{'key':_0x7a2c60(0x103),'value':function(){var _0x15f64a=_0x7a2c60,_0x286569=document[_0x15f64a(0x112)](_0x15f64a(0xc3));_0x286569[_0x15f64a(0x114)][_0x15f64a(0x95)]=_0x15f64a(0x15e),_0x286569['style'][_0x15f64a(0x14e)]=_0x15f64a(0x1d6),_0x286569['style']['left']=_0x15f64a(0x1d6),_0x286569['style'][_0x15f64a(0xfd)]='100%',_0x286569[_0x15f64a(0x114)][_0x15f64a(0xb0)]=_0x15f64a(0xca),_0x286569[_0x15f64a(0x114)][_0x15f64a(0x10e)]=this['_pointerEvents']?_0x15f64a(0x9b):'none',_0x286569['style']['zIndex']=0xa,_0x286569['setAttribute']('id','canvasWindy'),_0x286569[_0x15f64a(0x116)](_0x15f64a(0x83),_0x15f64a(0x1e7)),this['_map']['container'][_0x15f64a(0x13a)](_0x286569);var _0x3468af=this[_0x15f64a(0x1d0)]['scene'];return _0x286569[_0x15f64a(0xfd)]=_0x3468af[_0x15f64a(0xc3)][_0x15f64a(0x1c6)],_0x286569[_0x15f64a(0xb0)]=_0x3468af['canvas']['clientHeight'],_0x286569;}},{'key':_0x7a2c60(0x15d),'value':function(){var _0x57ae31=_0x7a2c60;this[_0x57ae31(0xc3)]&&(this[_0x57ae31(0xc3)][_0x57ae31(0xfd)]=this[_0x57ae31(0x1b7)],this['canvas']['height']=this['canvasHeight']);}},{'key':_0x7a2c60(0xc7),'value':function(){var _0x5a6321=_0x7a2c60,_0x393f58=this,_0x2c95d2=Date[_0x5a6321(0x1ab)]();!function _0x47ba9c(){var _0x3078fd=_0x5a6321;_0x393f58[_0x3078fd(0x74)]=window[_0x3078fd(0xec)](_0x47ba9c);var _0x59d88a=Date[_0x3078fd(0x1ab)](),_0x1fc033=_0x59d88a-_0x2c95d2;_0x1fc033>_0x393f58['frameTime']&&(_0x2c95d2=_0x59d88a-_0x1fc033%_0x393f58[_0x3078fd(0x16b)],_0x393f58[_0x3078fd(0x87)]());}(),window[_0x5a6321(0x166)](_0x5a6321(0x15d),this[_0x5a6321(0x15d)]['bind'](this),!0x1),this[_0x5a6321(0x18d)]=!0x1,this[_0x5a6321(0x183)]=!0x1,this['_map']['on'](_0x1b7d88[_0x5a6321(0xf0)][_0x5a6321(0x147)],this[_0x5a6321(0x12e)],this),this[_0x5a6321(0x1d0)]['on'](_0x1b7d88[_0x5a6321(0xf0)]['mouseDown'],this[_0x5a6321(0x89)],this),this[_0x5a6321(0x1d0)]['on'](_0x1b7d88[_0x5a6321(0xf0)][_0x5a6321(0x8c)],this[_0x5a6321(0x164)],this),this[_0x5a6321(0x1d0)]['on'](_0x1b7d88[_0x5a6321(0xf0)][_0x5a6321(0x125)],this[_0x5a6321(0x129)],this);}},{'key':_0x7a2c60(0x15f),'value':function(){var _0x468c7e=_0x7a2c60;window[_0x468c7e(0x88)](this[_0x468c7e(0x74)]),delete this[_0x468c7e(0x74)],window[_0x468c7e(0xe3)](_0x468c7e(0x15d),this[_0x468c7e(0x15d)]),this[_0x468c7e(0x1d0)][_0x468c7e(0x1b5)](_0x1b7d88[_0x468c7e(0xf0)]['wheel'],this[_0x468c7e(0x12e)],this),this[_0x468c7e(0x1d0)][_0x468c7e(0x1b5)](_0x1b7d88[_0x468c7e(0xf0)][_0x468c7e(0x182)],this['_onMouseDownEvent'],this),this[_0x468c7e(0x1d0)][_0x468c7e(0x1b5)](_0x1b7d88[_0x468c7e(0xf0)]['mouseUp'],this[_0x468c7e(0x164)],this),this[_0x468c7e(0x1d0)][_0x468c7e(0x1b5)](_0x1b7d88[_0x468c7e(0xf0)][_0x468c7e(0x125)],this['_onMouseMoveEvent'],this);}},{'key':_0x7a2c60(0x12e),'value':function(_0x2c7094){var _0x1a91b3=_0x7a2c60,_0x5267c0=this;clearTimeout(this[_0x1a91b3(0xa6)]),this[_0x1a91b3(0xd9)]&&this[_0x1a91b3(0xc3)]&&(this['canvas'][_0x1a91b3(0x114)][_0x1a91b3(0xe7)]=_0x1a91b3(0x8f),this['refreshTimer']=setTimeout(function(){var _0x2d3308=_0x1a91b3;_0x5267c0[_0x2d3308(0xd9)]&&(_0x5267c0['redraw'](),_0x5267c0['canvas'][_0x2d3308(0x114)][_0x2d3308(0xe7)]=_0x2d3308(0x176));},0xc8));}},{'key':_0x7a2c60(0x89),'value':function(_0x46c6da){var _0xec2ba0=_0x7a2c60;this[_0xec2ba0(0x18d)]=!0x0;}},{'key':_0x7a2c60(0x129),'value':function(_0x300ef9){var _0x12520a=_0x7a2c60;this[_0x12520a(0xd9)]&&this['canvas']&&this['mouse_down']&&(this['canvas'][_0x12520a(0x114)][_0x12520a(0xe7)]=_0x12520a(0x8f),this[_0x12520a(0x183)]=!0x0);}},{'key':_0x7a2c60(0x164),'value':function(_0x30be84){var _0x2325da=_0x7a2c60;this[_0x2325da(0xd9)]&&this[_0x2325da(0xc3)]&&(this[_0x2325da(0x18d)]&&this['mouse_move']&&this[_0x2325da(0x184)](),this['canvas']['style'][_0x2325da(0xe7)]=_0x2325da(0x176),this[_0x2325da(0x18d)]=!0x1,this['mouse_move']=!0x1);}},{'key':_0x7a2c60(0x184),'value':function(){var _0x3aacd6=_0x7a2c60;this[_0x3aacd6(0xd9)]&&this[_0x3aacd6(0xd7)]&&(this['particles']=[],this[_0x3aacd6(0x97)]());}},{'key':'updateDate','value':function(_0x259ff4){var _0xd2f64f=_0x7a2c60;this['clear'](),this[_0xd2f64f(0x11a)]=_0x259ff4,this['windField']=new _0x454c27(this['windData'],this[_0xd2f64f(0x156)]),this[_0xd2f64f(0x97)]();}},{'key':_0x7a2c60(0x97),'value':function(){var _0x10e931=_0x7a2c60;this['_calcStep']();for(var _0x4b02a6=0x0;_0x4b02a6<this[_0x10e931(0x18f)];_0x4b02a6++){var _0x618584=this[_0x10e931(0x149)](new _0x1b0b24());this[_0x10e931(0x178)]['push'](_0x618584);}this[_0x10e931(0xbc)]['fillStyle']='rgba(0,\x200,\x200,\x200.97)',this[_0x10e931(0xbc)]['globalAlpha']=0.6,this[_0x10e931(0x87)]();}},{'key':_0x7a2c60(0x104),'value':function(){var _0x344e9a=_0x7a2c60;this['windField']&&(this[_0x344e9a(0x15a)]=[(this[_0x344e9a(0xd7)][_0x344e9a(0x106)]-this[_0x344e9a(0xd7)][_0x344e9a(0x1bf)])/this[_0x344e9a(0x15b)],(this[_0x344e9a(0xd7)]['ymax']-this[_0x344e9a(0xd7)][_0x344e9a(0x16d)])/this[_0x344e9a(0x15b)]]);}},{'key':_0x7a2c60(0x87),'value':function(){var _0x1b3aee=_0x7a2c60,_0x383645=this;if(this[_0x1b3aee(0xd9)]&&!(this[_0x1b3aee(0x178)]['length']<=0x0)){var _0xaabc96=null,_0x2d8906=null,_0x2c157d=null;this[_0x1b3aee(0x178)][_0x1b3aee(0xee)](function(_0x8e6ae4){var _0x3bfce3=_0x1b3aee;if(_0x8e6ae4[_0x3bfce3(0xe9)]<=0x0&&_0x383645[_0x3bfce3(0x149)](_0x8e6ae4),_0x8e6ae4['age']>0x0){var _0x5b20bd=_0x8e6ae4['tlng'],_0x36bbef=_0x8e6ae4[_0x3bfce3(0x187)];(_0x2c157d=_0x383645['windField'][_0x3bfce3(0xf3)](_0x5b20bd,_0x36bbef))?(_0xaabc96=_0x5b20bd+_0x383645[_0x3bfce3(0x15a)][0x0]*_0x2c157d[0x0],_0x2d8906=_0x36bbef+_0x383645[_0x3bfce3(0x15a)][0x1]*_0x2c157d[0x1],_0x8e6ae4[_0x3bfce3(0x1d8)]=_0x5b20bd,_0x8e6ae4[_0x3bfce3(0xef)]=_0x36bbef,_0x8e6ae4[_0x3bfce3(0x1a0)]=_0xaabc96,_0x8e6ae4['tlat']=_0x2d8906,_0x8e6ae4[_0x3bfce3(0xe9)]--):_0x8e6ae4[_0x3bfce3(0xe9)]=0x0;}}),this[_0x1b3aee(0xa1)]();}}},{'key':_0x7a2c60(0xad),'value':function(_0x1595fd,_0x35ea74,_0x3121f3){var _0x22e569=_0x7a2c60,_0x1fd28f=_0x1de32e[_0x22e569(0x9e)][_0x22e569(0x134)](_0x1595fd,_0x35ea74,this[_0x22e569(0x12c)]),_0x55c52d=this[_0x22e569(0x1d0)][_0x22e569(0x9a)];if(_0x55c52d[_0x22e569(0x148)]===_0x1de32e[_0x22e569(0x1a3)]['SCENE3D']&&!new _0x1de32e[(_0x22e569(0x17c))](_0x55c52d[_0x22e569(0x137)][_0x22e569(0x8a)],_0x55c52d[_0x22e569(0x179)]['positionWC'])[_0x22e569(0xf9)](_0x1fd28f))return _0x3121f3[_0x22e569(0xe9)]=0x0,null;var _0x1e2746=_0x1de32e[_0x22e569(0x1d7)][_0x22e569(0x73)](this[_0x22e569(0x1d0)][_0x22e569(0x9a)],_0x1fd28f);return _0x1e2746?[_0x1e2746['x'],_0x1e2746['y']]:null;}},{'key':'_drawLines','value':function(){var _0x742796=_0x7a2c60,_0x2693ea=this,_0x2d0319=this[_0x742796(0x178)];this['canvasContext'][_0x742796(0x120)]=_0x2693ea['lineWidth'],this['canvasContext'][_0x742796(0xb8)]=_0x742796(0x1ac),this[_0x742796(0xbc)]['fillRect'](0x0,0x0,this[_0x742796(0x1b7)],this[_0x742796(0xae)]),this[_0x742796(0xbc)][_0x742796(0xb8)]=_0x742796(0x198),this['canvasContext'][_0x742796(0x170)]=0.9,this[_0x742796(0xbc)][_0x742796(0x19a)](),this[_0x742796(0xbc)][_0x742796(0x100)]=this[_0x742796(0x16c)];var _0x158b07=this[_0x742796(0x1d0)][_0x742796(0x9a)]['mode']!==_0x1de32e[_0x742796(0x1a3)][_0x742796(0xf5)];_0x2d0319[_0x742796(0xee)](function(_0xf449bd){var _0x45e1ee=_0x742796,_0x154a96=_0x2693ea['_tomap'](_0xf449bd['lng'],_0xf449bd[_0x45e1ee(0xef)],_0xf449bd),_0x1b20c3=_0x2693ea[_0x45e1ee(0xad)](_0xf449bd[_0x45e1ee(0x1a0)],_0xf449bd['tlat'],_0xf449bd);if(null!=_0x154a96&&null!=_0x1b20c3){var _0x65c132=Math[_0x45e1ee(0x133)](_0x154a96[0x0]-_0x1b20c3[0x0]);_0x158b07&&_0x65c132>=_0x2693ea['canvasWidth']||(_0x2693ea[_0x45e1ee(0xbc)][_0x45e1ee(0x1b3)](_0x154a96[0x0],_0x154a96[0x1]),_0x2693ea[_0x45e1ee(0xbc)][_0x45e1ee(0xc1)](_0x1b20c3[0x0],_0x1b20c3[0x1]));}}),this[_0x742796(0xbc)][_0x742796(0x154)]();}},{'key':_0x7a2c60(0x149),'value':function(_0x4fa648){var _0x58716a=_0x7a2c60;for(var _0x4da5ce,_0x2636b1,_0x914fb9=0x0;_0x914fb9<0x1e&&(_0x4da5ce=this[_0x58716a(0xd7)]['getRandomLatLng'](),!((_0x2636b1=this[_0x58716a(0xd7)][_0x58716a(0xf3)](_0x4da5ce[_0x58716a(0x1d8)],_0x4da5ce['lat']))&&_0x2636b1[0x2]>0x0));_0x914fb9++);if(!_0x2636b1)return _0x4fa648;var _0x226755=_0x4da5ce[_0x58716a(0x1d8)]+this[_0x58716a(0x15a)][0x0]*_0x2636b1[0x0],_0x24bb22=_0x4da5ce[_0x58716a(0xef)]+this[_0x58716a(0x15a)][0x1]*_0x2636b1[0x1];return _0x4fa648[_0x58716a(0x1d8)]=_0x4da5ce[_0x58716a(0x1d8)],_0x4fa648[_0x58716a(0xef)]=_0x4da5ce['lat'],_0x4fa648[_0x58716a(0x1a0)]=_0x226755,_0x4fa648['tlat']=_0x24bb22,_0x4fa648['age']=Math[_0x58716a(0xc9)](Math['random']()*this[_0x58716a(0x13d)]),_0x4fa648;}},{'key':_0x7a2c60(0x196),'value':function(){var _0x250938=_0x7a2c60;this[_0x250938(0x178)]=[],delete this['windField'],delete this[_0x250938(0x11a)];}}]),_0x450745;}(_0x1b7d88[_0x31fa10(0x189)]['BaseLayer']);function _0x471718(_0x2a99fc,_0x48bd24){var _0x14122a=_0x31fa10;return _0x2a99fc*Math['cos'](_0x1de32e[_0x14122a(0x186)][_0x14122a(0xfc)](_0x48bd24));}function _0x4a1c7b(_0x5e9024,_0x525b9f){var _0x1da028=_0x31fa10;return _0x5e9024*Math[_0x1da028(0x90)](_0x1de32e[_0x1da028(0x186)][_0x1da028(0xfc)](_0x525b9f));}function _0x1c5f17(_0xf4069e,_0x4a18d0){var _0x4e0d2c=_0x31fa10;return Math['sqrt'](Math[_0x4e0d2c(0x1e5)](_0xf4069e,0x2)+Math['pow'](_0x4a18d0,0x2));}function _0x10ab2a(_0x6c7f0,_0x1084a5){var _0x2ebca1=_0x31fa10,_0x3e32ed=_0x1de32e[_0x2ebca1(0x186)][_0x2ebca1(0x1c7)](Math[_0x2ebca1(0xfe)](_0x1084a5,_0x6c7f0));return _0x3e32ed+=_0x3e32ed<0x0?0x168:0x0;}_0x1b7d88[_0x31fa10(0x93)][_0x31fa10(0x130)](_0x31fa10(0xeb),_0x5eae21),_0x1b7d88[_0x31fa10(0x189)]['CanvasWindLayer']=_0x5eae21,_0x1b7d88[_0x31fa10(0x13f)]=_0x212025;}]);}));